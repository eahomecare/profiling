(this["webpackJsonpprobook-client"]=this["webpackJsonpprobook-client"]||[]).push([[0],{316:function(e,t,c){},494:function(e,t,c){},502:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/Avid Traveler.153391f9.png"},503:function(e,t,c){},504:function(e,t,c){},554:function(e,t,c){},555:function(e,t,c){},556:function(e,t,c){},557:function(e,t,c){},558:function(e,t,c){},559:function(e,t,c){},798:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(44),s=c.n(r),i=c(42),o=c.n(i),l=c(889),j=c(893),d=(c(494),c(462)),u=c(425),b=c(427),O=c(910),m="https://api.i18nexus.com/project_resources/translations/{{lng}}/{{ns}}.json?api_key=".concat("JfMdrKKmBHuC9YGlc3kDSw");d.a.use(u.a).use(b.a).use(O.a).init({fallbackLng:"en",ns:["default"],defaultNS:"default",supportedLngs:["en","hi","mr"],backend:{loadPath:m}});var h,p=c(4),x=c(24),f=c(5),g=c(18),v=c.n(g),y=c(34),w=c(43);function S(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),c=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(c)}var k=Object(w.b)("auth/loginUser",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/auth/signin",t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(w.b)("auth/registerUser",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/auth/signup",t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(w.b)("auth/getProfile",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/profile/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(w.b)("auth/getUsers",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/users/all");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),E=Object(w.c)({name:"auth",initialState:{status:"idle",isLoggedIn:!1,user:{},profile:{},userStatus:"idle",users:[]},reducers:{setAuth:function(e,t){e.isLoggedIn=t.payload.isLoggedIn},logout:function(e,t){localStorage.clear(),e.isLoggedIn=!1,o.a.defaults.headers.common.authorization=null},setUser:function(e,t){e.user=t.payload}},extraReducers:(h={},Object(f.a)(h,k.pending,(function(e,t){e.status="loading"})),Object(f.a)(h,k.fulfilled,(function(e,t){var c=t.payload.access_token,a=S(c),n=a.email,r=a.sub,s=c;localStorage.setItem("login",JSON.stringify({token:s,email:n,_id:r,isLoggedIn:!0})),e.user.email=n,e.user._id=r,e.status="success",e.isLoggedIn=!0})),Object(f.a)(h,k.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(f.a)(h,C.pending,(function(e,t){e.status="loading"})),Object(f.a)(h,C.fulfilled,(function(e,t){e.status="success";var c=t.payload.access_token,a=S(c),n=a.email,r=a.sub,s=c;localStorage.setItem("login",JSON.stringify({token:s,email:n,_id:r,isLoggedIn:!0})),e.user.email=n,e.user._id=r,e.status="success",e.isLoggedIn=!0})),Object(f.a)(h,C.rejected,(function(e,t){e.status="failed",e.isLoggedIn=!1})),Object(f.a)(h,N.pending,(function(e,t){e.status="loading"})),Object(f.a)(h,N.fulfilled,(function(e,t){e.status="success",e.profile=t.payload.profile})),Object(f.a)(h,N.rejected,(function(e,t){e.status="failed"})),Object(f.a)(h,D.pending,(function(e,t){e.userStatus="loading"})),Object(f.a)(h,D.fulfilled,(function(e,t){e.userStatus="success",console.log(t.payload),e.users=t.payload})),Object(f.a)(h,D.rejected,(function(e,t){e.userStatus="failed"})),h)}),P=E.reducer,F=E.actions,I=(F.setAuth,F.logout,c(818)),A=c(91),z=c(48),M=c(914),T=c(915),R=c(916),_=c(911),B=c(912),L=c(825),K=c(63),H=c(234),U=c(826),q=c(827),W=c(820),G=c(821),Y=c(1);function J(){var e=Object(I.b)(),t=e.colorScheme,c=e.toggleColorScheme,a="dark"===t;return Object(Y.jsx)(H.a,{variant:"outline",color:a?"yellow":"blue",onClick:function(){return c()},title:"Toggle color scheme",children:a?Object(Y.jsx)(W.a,{size:"1.1rem"}):Object(Y.jsx)(G.a,{size:"1.1rem"})})}var V,Z=c(3);function Q(e){return new Promise((function(t){return setTimeout(t,e)}))}var $=Object(w.b)("customer/getCustomers",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/customers");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),X=Object(w.b)("customer/getCustomersProfileCompleteness",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(200);case 2:return e.next=4,o.a.get("/profile");case 4:return t=e.sent,c=t.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))),ee=Object(w.b)("customer/getCustomerDetails",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/customers/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te=Object(w.b)("customer/getCustomerDetails",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/service-customer-mappings/"+t);case 2:return c=e.sent,a=c.data,console.log(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce=Object(w.c)({name:"customer",initialState:{status:"idle",customers:[],customerDetails:{},customerServiceHistory:[],fetchedPofileCompleteness:!1,customerServiceHistoryStatus:"idle",customerDetailsStatus:"idle"},reducers:{setCurrentCustomer:function(e,t){console.log(t.payload),e.customerDetails=t.payload}},extraReducers:(V={},Object(f.a)(V,$.pending,(function(e,t){e.status="loading"})),Object(f.a)(V,$.fulfilled,(function(e,t){e.status="success";var c={},a={};e.customers.map((function(e){return c[e.id]=e})),t.payload.customer_details.map((function(e){return a[e.id]=e})),e.customers=Object.values(Object.assign(c,a))})),Object(f.a)(V,$.rejected,(function(e,t){e.status="failed"})),Object(f.a)(V,ee.pending,(function(e,t){e.customerDetailsStatus="loading"})),Object(f.a)(V,ee.fulfilled,(function(e,t){e.customerDetailsStatus="success",e.customerDetails=t.payload.response.customer})),Object(f.a)(V,ee.rejected,(function(e,t){e.customerDetailsStatus="failed"})),Object(f.a)(V,X.pending,(function(e,t){e.status="loading"})),Object(f.a)(V,X.fulfilled,(function(e,t){e.status="success";var c=e.customers.map((function(e){var c=t.payload.profileCompletion?t.payload.profileCompletion[e.id]:0;return Object(Z.a)(Object(Z.a)({},e),{},{profile_completion:c})}));return Object(Z.a)(Object(Z.a)({},e),{},{customers:c,fetchedPofileCompleteness:!0})})),Object(f.a)(V,X.rejected,(function(e,t){e.status="failed"})),Object(f.a)(V,te.pending,(function(e,t){e.customerServiceHistoryStatus="loading"})),Object(f.a)(V,te.fulfilled,(function(e,t){e.customerServiceHistoryStatus="success",e.customerServiceHistory=t.payload.data})),Object(f.a)(V,te.rejected,(function(e,t){e.customerServiceHistoryStatus="failed"})),V)}),ae=ce.reducer,ne=ce.actions.setCurrentCustomer,re=c(896),se=c(900),ie=c(897),oe=c(913),le=c(116);function je(e){var t=e.customerList,c=e.fetchedPofileCompleteness,a=Object(x.b)(),n=Object(x.c)((function(e){return e.customer})),r=(n.status,n.customerDetails,Object(z.h)()),s=t.map((function(e){var t,n,s;return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:null===(t=e.profiling)||void 0===t||null===(n=t.personal_details)||void 0===n?void 0:n.full_name})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:"CLID"+e.id.substr(0,6)+"...."})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:e.email})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:e.source})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:e.mobile})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(B.a,{children:c?(s=e.profile_completion,Object(Y.jsx)("div",{children:Object(Y.jsx)(_.a,{children:Object(Y.jsx)(re.a,{size:50,thickness:5,sections:[{value:s,color:s>25?"#1D9B25":s>50?"#CFA400":"#D85972"}],label:Object(Y.jsxs)(K.a,{color:"",weight:20,align:"center",size:"xs",children:[s,"%"]})})})})):Object(Y.jsx)(le.a,{})})}),Object(Y.jsx)("td",{children:Object(Y.jsx)(se.a,{variant:"gradient",gradient:{from:"indigo",to:"cyan"},onClick:function(){return function(e){r("/dashboard"),a(ne(e))}(e)},children:"View"})})]},e.id)}));return Object(Y.jsx)(ie.a,{shadow:"md",children:Object(Y.jsxs)(oe.a,{highlightOnHover:!0,children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Name"})})}),Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Customer Id"})})}),Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Email"})})}),Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Source"})})}),Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Mobile"})})}),Object(Y.jsx)("th",{children:Object(Y.jsx)(B.a,{children:Object(Y.jsx)(K.a,{fw:900,fz:17,children:"Profile Completion"})})}),Object(Y.jsx)("th",{})]})}),Object(Y.jsx)("tbody",{children:s})]})})}var de=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.customer})),c=t.status,n=t.customers,r=t.fetchedPofileCompleteness;return Object(a.useEffect)((function(){e($()),e(X())}),[]),"loading"===c?Object(Y.jsx)(M.a,{visible:!0,overlayBlur:2,loaderProps:{size:"xl",variant:"dots"}}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{style:{display:"flex"},children:Object(Y.jsx)("span",{style:{flexGrow:"1",width:"100px"},children:Object(Y.jsxs)("div",{style:{padding:"10px"},children:[Object(Y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",marginTop:"5px"},children:[Object(Y.jsx)("span",{children:Object(Y.jsx)(T.a,{pl:5,children:"Customers"})}),Object(Y.jsx)("span",{children:Object(Y.jsx)(R.a,{children:Object(Y.jsx)(_.a,{children:Object(Y.jsxs)(B.a,{mt:5,children:[Object(Y.jsx)(L.a,{w:30}),Object(Y.jsx)(K.a,{mt:5,ml:5,fw:20,children:"Items per page"}),Object(Y.jsx)(R.a,{mt:5,children:Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)(H.a,{children:Object(Y.jsx)(U.a,{})}),Object(Y.jsx)(H.a,{children:Object(Y.jsx)(q.a,{})})]})})]})})})})]}),Object(Y.jsx)(je,{customerList:n,fetchedPofileCompleteness:r})]})})})})},ue=c(235),be=c(903),Oe=c(904),me=c(892),he=c(56);function pe(){return Object(Y.jsxs)(R.a,{size:420,my:40,children:[Object(Y.jsx)(T.a,{align:"center",sx:function(e){return{fontFamily:"Greycliff CF, ".concat(e.fontFamily),fontWeight:900}},children:"Customer Profiling"}),Object(Y.jsx)(K.a,{color:"dimmed",size:"sm",align:"center",mt:5,component:he.b,to:"/",children:Object(Y.jsxs)(_.a,{children:["Already have an account?",Object(Y.jsx)(K.a,{c:"blue",children:"Login"})]})}),Object(Y.jsxs)(ue.a,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:[Object(Y.jsx)(L.a,{label:"Email",placeholder:"you@ea.in",required:!0}),Object(Y.jsx)(be.a,{label:"Password",placeholder:"Your password",required:!0,mt:"md"}),Object(Y.jsx)(Oe.a,{position:"apart",mt:"lg",children:Object(Y.jsx)(me.a,{label:"Remember me",sx:{lineHeight:1}})}),Object(Y.jsx)(he.b,{to:"/dashboard",children:Object(Y.jsx)(se.a,{fullWidth:!0,mt:"xl",children:"Register"})})]})]})}var xe,fe=c(8),ge=c(921),ve=c(905),ye=c(922),we=c(923),Se=c(852),ke=c(853),Ce=c(830),Ne=c(831),De=c(832),Ee=c(833),Pe=c(834),Fe=c(835),Ie=c(836),Ae=c(837),ze=c(838),Me=c(839),Te=c(840),Re=c(841),_e=c(843),Be=c(804),Le=c(829),Ke=c(901),He=c(902),Ue=c(917),qe=Object(Be.a)((function(e){return{link:Object(Z.a)(Object(Z.a)({},e.fn.focusStyles()),{},{display:"flex",alignItems:"center",textDecoration:"none",fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7],borderRadius:e.radius.sm,fontWeight:500,"&:hover":Object(f.a)({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:"#4E70EA",color:"dark"===e.colorScheme?e.white:"#FFFFFF"},"& .".concat(Object(Le.a)("icon")),{color:"dark"===e.colorScheme?e.white:e.black})}),linkIcon:{ref:Object(Le.a)("icon"),color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],marginRight:e.spacing.sm},linkActive:{"&, &:hover":Object(f.a)({backgroundColor:"dark"===e.colorScheme?"#252D3B":"#4E70EA",color:"dark"===e.colorScheme?e.white:"#FFFFFF"},"& .".concat(Object(Le.a)("icon")),{color:e.fn.variant({variant:"light",color:e.primaryColor}).color})}}})),We=[{link:"personalInformation",label:"Personal Information",icon:Object(Y.jsx)(Ce.a,{})},{link:"keywords",label:"Keywords",icon:Object(Y.jsx)(Ne.a,{})},{link:"profiling",label:"Profiling",icon:Object(Y.jsx)(De.a,{})},{link:"interests",label:"Interests",icon:Object(Y.jsx)(Ee.a,{})},{link:"occupation",label:"Occupation",icon:Object(Y.jsx)(Pe.a,{})},{link:"activity",label:"Activity",icon:Object(Y.jsx)(Fe.a,{})},{link:"familydetails",label:"Family Details",icon:Object(Y.jsx)(Ie.a,{})},{link:"Financial Information",label:"Financial Information",icon:Object(Y.jsx)(Ae.a,{})},{link:"Insurance Details",label:"Insurance Details  ",icon:Object(Y.jsx)(ze.a,{})},{link:"Vehicle",label:"Vehicle",icon:Object(Y.jsx)(Me.a,{})},{link:"Health",label:"Health",icon:Object(Y.jsx)(Te.a,{})},{link:"Social Media",label:"Social Media",icon:Object(Y.jsx)(Re.a,{})}],Ge=function(e){var t=e.opened,c=(e.setOpened,qe()),n=c.classes,r=c.cx,s=Object(a.useState)("Personal Information"),i=Object(p.a)(s,2),o=i[0],l=i[1],j=Object(A.e)(),d=We.map((function(e){return Object(Y.jsx)(Ke.a,{className:r(n.link,Object(f.a)({},n.linkActive,e.label===o)),icon:e.icon,component:he.b,variant:"subtle",to:e.link,label:e.label,onClick:function(t){l(e.label)}},e.label)}));return Object(Y.jsx)(He.a,{height:700,ml:40,p:"md",hiddenBreakpoint:"sm",hidden:!t,width:{sm:200,lg:300},withBorder:!1,children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(ie.a,{bg:"light"==j.colorScheme?"#DDE5FF":"",mt:20,children:Object(Y.jsx)(He.a.Section,{grow:!0,children:d})}),Object(Y.jsx)(He.a.Section,{children:Object(Y.jsx)(Ke.a,{icon:Object(Y.jsx)(_e.a,{}),component:he.b,variant:"subtle",to:"/",label:"Go Back",rightSection:!0})})]})})},Ye=c(920),Je=c(502),Ve=window.location.origin;console.log(Ve,Je.default);var Ze=(xe={},Object(f.a)(xe,"Avid Traveler",""),Object(f.a)(xe,"Fitness Freak",""),Object(f.a)(xe,"Foodie",""),Object(f.a)(xe,"Sports Fan",""),Object(f.a)(xe,"Techie",""),xe),Qe=c(55),$e=c(894),Xe=c(918),et=c(919),tt=Object(Qe.b)(60),ct=Object(Be.a)((function(e){return{card:{position:"relative",overflow:"visible",padding:e.spacing.xl,paddingTop:"calc(".concat(e.spacing.xl," * 1.5 + ").concat(tt," / 3)")},icon:{position:"absolute",top:"calc(-".concat(tt," / 3)"),left:"calc(50% - ".concat(tt," / 2)")},title:{fontFamily:"Greycliff CF, ".concat(e.fontFamily),lineHeight:1}}}));function at(e){var t,c=e.title,a=e.url,n=e.percentage,r=e.frequency,s=e.lastUpdated,i=ct().classes;return Object(Y.jsxs)(ue.a,{radius:"md",withBorder:!0,className:i.card,mt:"calc(".concat(tt," / 3)"),children:[Object(Y.jsx)($e.a,{className:i.icon,size:tt,radius:tt,src:a}),Object(Y.jsx)(K.a,{ta:"center",fw:700,className:i.title,children:c}),Object(Y.jsx)(K.a,{c:"dimmed",ta:"center",fz:"sm",children:(t=n,t>=0&&t<=10?"Clueless Newbie":t>10&&t<=25?"Bumbling Beginner":t>25&&t<=40?"Somewhat Savvy":t>40&&t<=60?"Eager Explorer":t>60&&t<=75?"Amusingly Advanced":t>75&&t<=90?"Whimsical Wizard":"Expert Extraordinaire")}),Object(Y.jsxs)(Oe.a,{position:"apart",mt:"xs",children:[Object(Y.jsx)(K.a,{fz:"sm",color:"dimmed",children:"Percentage Completed"}),Object(Y.jsxs)(K.a,{fz:"sm",color:"dimmed",children:[n,"%"]})]}),Object(Y.jsx)(Xe.a,{value:n,mt:5}),Object(Y.jsxs)(Oe.a,{position:"apart",mt:"md",children:[Object(Y.jsxs)(K.a,{fz:"sm",children:[r," times a month"]}),Object(Y.jsxs)(et.a,{size:"sm",children:[s," days ago"]})]})]})}var nt,rt=function(){var e=Object.entries(Ze).map((function(e){var t=e[0],c=e[1];var a=function(){var e=Math.floor(16*Math.random()),t=Math.floor(30*(1-e/15)),c=Math.floor(Math.random()*(t+1)),a=Math.min(Math.floor(e/30*(30-c)*100),100);return[e,Math.floor(Math.random()*(a+1)),c]}();return console.log(a),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(at,{title:t,url:c,percentage:a[1],frequency:a[0],lastUpdated:a[2]})})})}));return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(Ye.a,{gutter:"xl",children:e})})},st=c(844),it=c(300),ot=function(e){var t=e.title,c=e.subject;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(K.a,{fz:"sm",c:"dimmed",children:t}),Object(Y.jsx)(K.a,{children:c})]})},lt=function(e){var t,c=e.selectedCustomer,n=Object(a.useState)(Object(Z.a)({},c.profiling.personal_details)),r=Object(p.a)(n,2),s=r[0],i=(r[1],c.profile_completion),o=c.source;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(R.a,{mt:-80,children:[Object(Y.jsxs)(Oe.a,{grow:!0,position:"apart",children:[Object(Y.jsx)(K.a,{mt:70,fw:500,children:"Basic Details"}),Object(Y.jsx)(st.a,{h:40}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(st.a,{h:40}),(t=i,Object(Y.jsx)("div",{children:Object(Y.jsx)(_.a,{children:Object(Y.jsx)(re.a,{mt:50,size:80,thickness:5,sections:[{value:t,color:t>75?"#1D9B25":t>60?"#CFA400":"#D85972"}],label:Object(Y.jsxs)(K.a,{color:"",weight:20,align:"center",size:"xs",children:[t,"%"]})})})}))]})]}),Object(Y.jsxs)("div",{style:{marginTop:"-30px"},children:[Object(Y.jsx)(ot,{title:"Picture",subject:Object(Y.jsx)($e.a,{radius:"xl",size:"xl"})}),Object(Y.jsxs)(Ye.a,{gutter:"xl",pt:"sm",children:[Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"First Name",subject:s.full_name.split(" ")[0]})}),Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Last Name",subject:s.full_name.split(" ")[1]})}),Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Gender",subject:s.gender})}),Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Date of birth",subject:s.dob})}),Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Age",subject:s.age})})]}),Object(Y.jsxs)(Ye.a,{gutter:"xl",children:[Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Marital Status",subject:s.marital_status})}),Object(Y.jsx)(Ye.a.Col,{span:4,children:Object(Y.jsx)(ot,{title:"Source",subject:o})})]}),Object(Y.jsx)(it.a,{my:"md",size:"xs",color:"#4E70EA"}),Object(Y.jsx)(K.a,{fw:500,children:"Contact Details"}),Object(Y.jsxs)(Ye.a,{gutter:"xl",children:[Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Email Address",subject:s.email})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Alternative Email",subject:s.alternate_email})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Mobile Number",subject:s.phone_number})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Alternative Mobile Number",subject:s.alternate_phone_number})})]}),Object(Y.jsx)(it.a,{my:"md",size:"xs",color:"#4E70EA"}),Object(Y.jsx)(K.a,{fw:500,children:"Address"}),Object(Y.jsxs)(Ye.a,{gutter:"xl",children:[Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Location(city)",subject:s.location})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"State",subject:s.state})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"PINCODE",subject:s.pincode})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Country",subject:s.country})}),Object(Y.jsx)(Ye.a.Col,{span:6,children:Object(Y.jsx)(ot,{title:"Address Line",subject:s.address})})]})]})]})})},jt=c(898),dt=c(888),ut=Object(w.b)("keywords/getKeywords",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/keywords");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),bt=Object(w.b)("keywords/getCustomerKeywords",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/keywords/customer/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ot=Object(w.b)("keywords/searchKeywords",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/keywords/search/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),mt=Object(w.b)("keywords/searchKeywords",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/keywords/update/many",t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ht=Object(w.c)({name:"keyword",initialState:{KeywordsStatus:"idle",customerKeywordsStatus:"idle",updateKeywordsStatus:"idle",keywords:[],customerKeywords:[]},reducers:{updateKeywords:function(e,t){console.log(t.payload),e.customerDetails=t.payload}},extraReducers:(nt={},Object(f.a)(nt,ut.pending,(function(e,t){e.keywordsStatus="loading"})),Object(f.a)(nt,ut.fulfilled,(function(e,t){e.keywordsStatus="success";var c={},a={};e.keywords.map((function(e){return c[e.id]=e})),t.payload.data.map((function(e){return a[e.id]=e})),e.keywords=Object.values(Object.assign(c,a))})),Object(f.a)(nt,ut.rejected,(function(e,t){e.keywordsStatus="failed"})),Object(f.a)(nt,bt.pending,(function(e,t){e.customerKeywordsStatus="loading"})),Object(f.a)(nt,bt.fulfilled,(function(e,t){e.customerKeywordsStatus="success",e.customerKeywords=t.payload.data})),Object(f.a)(nt,bt.rejected,(function(e,t){e.customerKeywordsStatus="failed"})),Object(f.a)(nt,Ot.pending,(function(e,t){e.keywordsStatus="loading"})),Object(f.a)(nt,Ot.fulfilled,(function(e,t){})),Object(f.a)(nt,Ot.rejected,(function(e,t){e.keywordsStatus="failed"})),Object(f.a)(nt,mt.pending,(function(e,t){e.updateKeywordsStatus="loading"})),Object(f.a)(nt,mt.fulfilled,(function(e,t){e.updateKeywordsStatus="success",e.customerKeywords=t.payload.data})),Object(f.a)(nt,mt.rejected,(function(e,t){e.updateKeywordsStatus="failed"})),nt)}).reducer,pt=c(85),xt=c.n(pt),ft=function(e){var t=e.updateKeywordValuesParent,c=Object(a.useState)([]),n=Object(p.a)(c,2),r=n[0],s=n[1],i=Object(x.c)((function(e){return e.customer})),o=(i.status,i.customerDetails),l=Object(x.b)(),j=Object(x.c)((function(e){return e.keyword})),d=j.customerKeywords,u=j.keywords,b=j.keywordsStatus,O=j.customerKeywordsStatus,m=Object(a.useState)(),h=Object(p.a)(m,2),f=h[0],g=h[1],v=Object(a.useState)(""),y=Object(p.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)([]),C=Object(p.a)(k,2),N=C[0],D=C[1],E=Object(a.useMemo)((function(){return xt.a.map(d,(function(e){var t=e.id,c=e.value,a=e.category;return{value:t,label:"".concat(c," [").concat(a,"]")}}))}),[d]),P=Object(a.useMemo)((function(){return xt.a.map(u,(function(e){var t=e.id,c=e.value,a=e.category;return{value:t,label:"".concat(c," [").concat(a,"]")}}))}),[u]),F=xt.a.map(xt.a.filter(u,{category:"unknown"}),"value");Object(a.useEffect)((function(){"success"==b&&"success"==O&&(s(P),g(E.map((function(e){return e.value}))),D(F))}),[d,u]),Object(a.useEffect)((function(){t(f)}),[r,f]),Object(a.useEffect)((function(){l(bt(o.id)),l(ut())}),[]);var I=Object(a.useMemo)((function(){return xt.a.debounce((function(e){S(e)}),200)}),[]);return Object(Y.jsx)(Y.Fragment,{children:"success"==b&&"success"==O?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(jt.a,{data:r,value:f,onChange:function(e){return g(e)},label:"Keywords",searchable:!0,searchValue:w,onSearchChange:function(e){return I(e)},clearable:!0,placeholder:"Add keywords",creatable:!0,getCreateLabel:function(e){return"+ Create ".concat(e)},onCreate:function(e){var t={value:e,label:e};return s((function(e){return[].concat(Object(fe.a)(e),[t])})),t}}),Object(Y.jsxs)("div",{style:{marginTop:"1rem"},children:["Existing Unknown keywords : ",N.map((function(e,t){return Object(Y.jsx)(et.a,{variant:"gradient",gradient:{from:"indigo",to:"cyan"},children:e},e)}))]})]}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("p",{children:"Please wait......."})})})},gt=c(924),vt=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.customer})),c=t.status,r=t.customerDetails,s=Object(x.c)((function(e){return e.keyword})),i=s.customerKeywords,o=s.customerKeywordsStatus,l=Object(a.useState)([]),j=Object(p.a)(l,2),d=j[0],u=j[1],b=Object(a.useMemo)((function(){var e=xt.a.groupBy(i,"category");return xt.a.map(e,(function(e,t){return{category:t,values:xt.a.map(e,"value")}}))}),[i]);return Object(a.useEffect)((function(){c&&e(bt(r.id))}),[]),Object(a.useEffect)((function(){"success"==o&&u(b)}),[i]),Object(Y.jsx)(Y.Fragment,{children:"success"==o?Object(Y.jsx)(Y.Fragment,{children:d.map((function(e){return Object(Y.jsxs)(n.a.Fragment,{children:[Object(Y.jsx)(K.a,{fw:700,children:e.category}),e.values.map((function(e){return Object(Y.jsx)(et.a,{variant:"gradient",gradient:{from:"indigo",to:"cyan"},children:e},e)}))]},e.category)}))}):Object(Y.jsx)(Y.Fragment,{children:"Loading interests..."})})},yt=c(19),wt=c(461),St=c(847),kt=c(848),Ct=c(849),Nt=c(850),Dt=c(851),Et=Object(Be.a)((function(e){return{rowSelected:{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors[e.primaryColor][7],.2):e.colors[e.primaryColor][0]}}}));function Pt(e){var t=e.title,c=e.initialData,n=e.headerData,r=e.createEmptyRow,s=e.customInputs,i=Et(),o=i.classes,l=i.cx,j=Object(a.useState)([]),d=Object(p.a)(j,2),u=d[0],b=d[1],O=Object(a.useState)(c),m=Object(p.a)(O,2),h=m[0],x=m[1],g=Object(a.useState)(null),v=Object(p.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(null),k=Object(p.a)(S,2),C=k[0],N=k[1],D=Object(a.useState)(null),E=Object(p.a)(D,2),P=E[0],F=E[1],I=n.map((function(e,t){return Object(Y.jsx)("th",{children:e},t)})),A=function(e,t,c){F((function(a){return a&&a.id===e?Object(Z.a)(Object(Z.a)({},a),{},Object(f.a)({},t,c)):a}))},z=function(e,t){C&&N(Object(Z.a)(Object(Z.a)({},C),{},Object(f.a)({},e,t)))},M=C?Object(Y.jsxs)("tr",{children:[Object.keys(C).filter((function(e){return"id"!==e})).map((function(e){return Object(Y.jsx)("td",{children:s&&s[e]?s[e](C&&C[e]||"",(function(t){return z(e,t)})):Object(Y.jsx)(L.a,{value:C&&C[e]||"",onChange:function(t){return z(e,t.currentTarget.value)}})},e)})),Object(Y.jsx)("td",{children:Object(Y.jsx)(se.a,{onClick:function(){C&&(x((function(e){return[].concat(Object(fe.a)(e),[Object(Z.a)(Object(Z.a)(Object(Z.a)({},r()),C),{},{id:(h.length+1).toString()})])})),N(null))},bg:"#4E70EA",children:"Save"})})]}):null,T=h.map((function(e){var t=u.includes(e.id);return Object(Y.jsxs)("tr",{className:l(Object(f.a)({},o.rowSelected,t)),children:[Object(Y.jsx)("td",{children:Object(Y.jsx)(me.a,{checked:u.includes(e.id),onChange:function(){return t=e.id,b((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(fe.a)(e),[t])}));var t},transitionDuration:0})}),Object.keys(e).filter((function(e){return"id"!=e})).map((function(t){return y===e.id&&s&&s[t]?Object(Y.jsx)("td",{children:s[t](P&&P[t]||"",(function(c){return A(e.id,t,c)}))},t):y===e.id?Object(Y.jsx)("td",{children:Object(Y.jsx)(L.a,{value:P&&P[t]||"",onChange:function(c){return A(e.id,t,c.currentTarget.value)}})},t):Object(Y.jsx)("td",{children:e[t]},t)})),Object(Y.jsx)("td",{children:y===e.id?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(H.a,{onClick:function(){return t=e.id,x((function(e){return e.map((function(e){return e.id===t?Object(Z.a)(Object(Z.a)({},e),P):e}))})),w(null),void F(null);var t},color:"green",variant:"subtle",size:"sm",children:Object(Y.jsx)(St.a,{})}),Object(Y.jsx)(H.a,{onClick:function(){return e.id,w(null),void F(null)},color:"red",variant:"subtle",size:"sm",children:Object(Y.jsx)(kt.a,{})})]}):Object(Y.jsx)(H.a,{onClick:function(){return t=e.id,F(h.find((function(e){return e.id===t}))||null),void w((function(e){return e===t?null:t}));var t},color:"#4E70EA",variant:"subtle",size:"sm",children:Object(Y.jsx)(Ct.a,{color:"#4E70EA"})})})]},e.id)}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Oe.a,{position:"apart",children:[Object(Y.jsx)(yt.a,{mb:5,children:Object(Y.jsx)(K.a,{fw:700,children:t||""})}),Object(Y.jsx)(yt.a,{mb:5,children:Object(Y.jsxs)(Oe.a,{children:[Object(Y.jsxs)(Oe.a,{onClick:function(){x((function(e){return e.filter((function(e){return!u.includes(e.id)}))})),b([])},style:{cursor:"pointer"},children:[Object(Y.jsx)(H.a,{color:"red",variant:"subtle",size:"sm",children:Object(Y.jsx)(Nt.a,{})}),Object(Y.jsx)(K.a,{ml:-18,color:"red",size:"sm",children:"Delete"})]}),Object(Y.jsxs)(Oe.a,{onClick:function(){N(C?null:r())},style:{cursor:"pointer"},children:[Object(Y.jsx)(H.a,{color:"blue",variant:"subtle",size:"sm",children:Object(Y.jsx)(Dt.a,{color:"#4E70EA"})}),Object(Y.jsx)(K.a,{ml:-18,color:"#4E70EA",size:"sm",children:"Add More"})]})]})})]}),Object(Y.jsx)(wt.a,{style:{maxHeight:"100%",fontSize:"10px"},children:Object(Y.jsxs)(oe.a,{children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:Object(Y.jsx)(me.a,{checked:u.length===h.length&&h.length>0,onChange:function(){return b((function(e){return e.length===h.length?[]:h.map((function(e){return e.id}))}))},transitionDuration:0})}),I,Object(Y.jsx)("th",{})]})}),Object(Y.jsxs)("tbody",{children:[T,M]})]})})]})}var Ft=[{id:"1",type:"Property Dealer",industry:"Business",to:"2005",from:"2009",incomeBracket:"\u20b97,00,000 - \u20b915,00,000"},{id:"2",type:"Stock Exchange",industry:"Finance",to:"2008",from:"Present",incomeBracket:"\u20b915,00,000 - \u20b930,00,000"}],It=["Type","Industry","To","From","Income Bracket"],At=function(){return{id:"",type:"",industry:"",to:"",from:"",incomeBracket:""}};function zt(){return Object(Y.jsx)(Pt,{title:"Occupation",initialData:Ft,headerData:It,createEmptyRow:At})}var Mt=[{id:"1",name:"Sushma Sharma",gender:"Female",relationship:"Spouse",phone:"+91 834273824",email:"sushmasharma123@email.com"},{id:"2",name:"Anand Sharma",gender:"Male",relationship:"Son",phone:"+91 873624782",email:"anandsharma123@email.com"},{id:"3",name:"Sarthak Sharma",gender:"Male",relationship:"Son",phone:"-",email:"-"}],Tt=["Name","Gender","Relationship","Phone No.","Email Address","",""],Rt=function(){return{id:"",name:"",gender:"",relationship:"",phone:"",email:""}};function _t(){return Object(Y.jsx)(Pt,{title:"Family Details",initialData:Mt,headerData:Tt,createEmptyRow:Rt,rowData:{id:"",name:"",gender:"",relationship:"",phone:"",email:""}})}function Bt(){var e=Object(x.c)((function(e){return e.customer})),t=e.customerDetails,c=e.customerServiceHistory,n=Object(x.b)();Object(a.useEffect)((function(){n(te(t.id))}),[t]);var r=c.map((function(e){return{ticket_id:e.ticket_id,order_id:e.order_id,source_of_booking:e.source_of_booking,ticket_type:e.ticket_type,ticket_date:e.ticket_date,action:e.action,tat:e.tat,name:e.service.name,subType:e.service.subType}}));return Object(Y.jsx)(Y.Fragment,{children:Array.isArray(r)&&r.length>0?Object(Y.jsx)(Pt,{title:"Activity",initialData:r,headerData:["Ticket ID","Order ID","Source of Booking","Ticket Type","Ticket Date","Action","TAT","Name","SubType"],createEmptyRow:function(){return{ticket_id:"",order_id:"",source_of_booking:"",ticket_type:"",ticket_date:"",action:"",tat:"",name:"",subType:""}}}):Object(Y.jsx)(le.a,{})})}var Lt,Kt,Ht=function(){var e=Object(x.c)((function(e){return e.customer})),t=e.status,c=e.customerDetails,n=(Object(x.c)((function(e){return e.keyword})).updateKeywordsStatus,Object(a.useState)(!1)),r=Object(p.a)(n,2),s=r[0],i=(r[1],Object(a.useState)("")),o=Object(p.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)([]),u=Object(p.a)(d,2),b=u[0],O=u[1],m=Object(a.useState)(!1),h=Object(p.a)(m,2),f=h[0],g=h[1],v=(Object(x.c)((function(e){return e.auth})).isLoggedIn,Object(a.useState)()),y=Object(p.a)(v,2),w=(y[0],y[1],Object(a.useState)(!0)),S=Object(p.a)(w,2),k=(S[0],S[1],Object(z.g)()),C=Object(x.b)(),N=Object(A.e)(),D=Object(a.useState)(!1),E=Object(p.a)(D,2),P=E[0],F=E[1];return Object(a.useEffect)((function(){j((function(e){return[].concat(Object(fe.a)(e),[k.pathname])}))}),[k]),Object(a.useEffect)((function(){if(l.at(-2)&&"/dashboard/keywords"===l.at(-2)){var e={customerId:c.id,keywordsPayload:b};g(!0),Q(5e3).then((function(e){return g(!1)})),C(mt(e))}}),[l,C]),"loading"==t?Object(Y.jsx)(M.a,{visible:!0,overlayBlur:2,loaderProps:{size:"xl",variant:"dots"}}):Object(Y.jsx)(ge.a,{styles:{main:{background:"dark"===N.colorScheme?N.colors.dark[8]:"white"}},navbarOffsetBreakpoint:"sm",asideOffsetBreakpoint:"sm",navbar:Object(Y.jsx)(Ge,{opened:P,setOpened:F}),header:Object(Y.jsx)(ve.a,{height:{base:50,md:70},p:"md",m:"md",withBorder:!1,children:Object(Y.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%",justifyContent:"space-between"},children:[Object(Y.jsx)(ye.a,{largerThan:"sm",styles:{display:"none"},children:Object(Y.jsx)(we.a,{opened:P,onClick:function(){return F((function(e){return!e}))},size:"sm",color:N.colors.gray[6],mr:"xl"})}),Object(Y.jsx)(K.a,{variant:"gradient",gradient:{from:"indigo",to:"cyan",deg:45},sx:{fontFamily:"Greycliff CF, sans-serif"},ta:"center",fz:"xl",fw:700,mt:-20,children:"EAI CRM"}),Object(Y.jsx)(L.a,{placeholder:"Search1",mb:"md",icon:Object(Y.jsx)(Se.a,{size:"0.9rem",stroke:1.5}),radius:"md",rightSection:Object(Y.jsx)(H.a,{variant:"subtle",children:Object(Y.jsx)(ke.a,{})})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(J,{})})]})}),children:Object(Y.jsxs)(R.a,{children:[Object(Y.jsx)(ie.a,{mt:20,shadow:"lg",bg:"light"==N.colorScheme?"#F1F5F9":"",radius:"md",mih:510,children:Object(Y.jsx)(z.d,{children:Object(Y.jsxs)(z.b,{children:[Object(Y.jsx)(z.b,{index:!0,element:Object(Y.jsx)(lt,{selectedCustomer:c})}),Object(Y.jsx)(z.b,{path:"/personalInformation",element:Object(Y.jsx)(lt,{selectedCustomer:c})}),Object(Y.jsx)(z.b,{path:"/profiling",element:Object(Y.jsx)(rt,{})}),Object(Y.jsx)(z.b,{path:"/keywords",element:Object(Y.jsx)(ft,{submitKeywords:s,updateKeywordValuesParent:function(e){O(e)}})}),Object(Y.jsx)(z.b,{path:"/interests",element:Object(Y.jsx)(vt,{})}),Object(Y.jsx)(z.b,{path:"/occupation",element:Object(Y.jsx)(zt,{})}),Object(Y.jsx)(z.b,{path:"/familydetails",element:Object(Y.jsx)(_t,{})}),Object(Y.jsx)(z.b,{path:"/activity",element:Object(Y.jsx)(Bt,{})})]})})}),f&&Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(gt.a,{loading:!0,title:"Background Syncing",withCloseButton:!0,style:{backgroundColor:"red !important"},children:Object(Y.jsx)("p",{style:{color:"red"},children:" Uploading latest keywords data onto server"})})})]})})},Ut=c(41),qt=Object(w.b)("rolesPermissions/getAllRolesPermissionsMappings",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/user-role-permission-mappings");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),Wt=Object(w.b)("rolesPermissions/updateRolesIntoPermission",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.permissionId,a=t.roleIds,e.next=3,o.a.patch("/permissions/update_roles/".concat(c),{roleIds:a});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Gt=Object(w.b)("rolesPermissions/createRoles",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,e.next=3,o.a.post("/roles",{name:c});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Yt=Object(w.b)("rolesPermissions/createPermission",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"-------\x3e"),e.next=3,o.a.post("/permissions",t);case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Jt=Object(w.b)("rolesPermissions/createPermissionRolesMapping",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/user-role-permission-mappings",t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Vt=Object(w.b)("rolesPermissions/getAllRoles",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/roles");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),Zt=Object(w.b)("rolesPermissions/getAllPermissions",Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/permissions");case 2:return t=e.sent,c=t.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),Qt=Object(w.b)("permissions/byRoleId",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/permissions/roles/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$t=Object(w.b)("rolesPermissions/byUserId",function(){var e=Object(y.a)(v.a.mark((function e(t){var c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/user-role-permission-mappings/users/"+t);case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Xt=Object(w.c)({name:"rolesPermission",initialState:{rolesPermissionsStatus:"idle",rolesPermissions:[],updateRolesStatus:"idle",createRolesStatus:"idle",createPermissionStatus:"idle",getAllRolesStatus:"idle",getAllPermissionsStatus:"idle",permissionsByRoleStatus:"idle",createRolesPermissionMappingStatus:"idle",getAllRolesPermissionsMappingsByUserStatus:"idle",roles:[],permissions:[],userRoles:[],userPermissions:[],permissionsByRole:[]},reducers:{getUserRolesPermissionsByMapping:function(e,t){e.userRoles=[],e.userPermissions=[],e.rolesPermissions.map((function(c){c.userId===t.payload&&(c.role&&e.userRoles.push(c.role),c.permission&&e.userPermissions.push(c.permission))}))}},extraReducers:(Lt={},Object(f.a)(Lt,qt.pending,(function(e,t){e.rolesPermissionsStatus="loading"})),Object(f.a)(Lt,qt.fulfilled,(function(e,t){e.rolesPermissionsStatus="success",e.rolesPermissions=t.payload})),Object(f.a)(Lt,qt.rejected,(function(e,t){e.rolesPermissionsStatus="failed"})),Object(f.a)(Lt,Wt.pending,(function(e,t){e.updateRolesStatus="loading"})),Object(f.a)(Lt,Wt.fulfilled,(function(e,t){e.updateRolesStatus="success"})),Object(f.a)(Lt,Wt.rejected,(function(e,t){e.updateRolesStatus="failed"})),Object(f.a)(Lt,Gt.pending,(function(e,t){e.createRolesStatus="loading"})),Object(f.a)(Lt,Gt.fulfilled,(function(e,t){e.createRolesStatus="success"})),Object(f.a)(Lt,Gt.rejected,(function(e,t){e.createRolesStatus="failed"})),Object(f.a)(Lt,Yt.pending,(function(e,t){e.createPermissionStatus="loading"})),Object(f.a)(Lt,Yt.fulfilled,(function(e,t){e.createPermissionStatus="success"})),Object(f.a)(Lt,Yt.rejected,(function(e,t){e.createPermissionStatus="failed"})),Object(f.a)(Lt,Vt.pending,(function(e,t){e.getAllRolesStatus="loading"})),Object(f.a)(Lt,Vt.fulfilled,(function(e,t){e.getAllRolesStatus="success",e.roles=t.payload})),Object(f.a)(Lt,Vt.rejected,(function(e,t){e.getAllRolesStatus="failed"})),Object(f.a)(Lt,Zt.pending,(function(e,t){e.getAllPermissionsStatus="loading"})),Object(f.a)(Lt,Zt.fulfilled,(function(e,t){e.getAllPermissionsStatus="success",e.permissions=t.payload})),Object(f.a)(Lt,Zt.rejected,(function(e,t){e.getAllPermissionsStatus="failed"})),Object(f.a)(Lt,Qt.pending,(function(e,t){e.permissionsByRoleStatus="loading"})),Object(f.a)(Lt,Qt.fulfilled,(function(e,t){e.permissionsByRoleStatus="success",e.permissionsByRole=t.payload})),Object(f.a)(Lt,Qt.rejected,(function(e,t){e.permissionsByRoleStatus="failed"})),Object(f.a)(Lt,Jt.pending,(function(e,t){e.createRolesPermissionMappingStatus="loading"})),Object(f.a)(Lt,Jt.fulfilled,(function(e,t){e.createPermissionStatus="success",e.rolesPermissions=[].concat(Object(fe.a)(e.rolesPermissions),[t.payload])})),Object(f.a)(Lt,Jt.rejected,(function(e,t){e.createRolesPermissionMappingStatus="failed"})),Object(f.a)(Lt,$t.pending,(function(e,t){e.getAllRolesPermissionsMappingsByUserStatus="loading"})),Object(f.a)(Lt,$t.fulfilled,(function(e,t){e.getAllRolesPermissionsMappingsByUserStatus="success",console.log(t.payload),t.payload.map((function(t){t.role&&e.userRoles.push(t.role),t.permission&&e.userPermissions.push(t.permission)}))})),Object(f.a)(Lt,$t.rejected,(function(e,t){e.getAllRolesPermissionsMappingsByUserStatus="failed"})),Lt)}),ec=(Xt.actions.getUserRolesPermissionsByMapping,Xt.reducer),tc=Object(w.b)("campaignManagement/fetchRowData",function(){var e=Object(y.a)(v.a.mark((function e(t,c){var a,n,r,s,i,o,l,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.getState,n=a().campaignManagement,r="".concat("http://localhost:5000","/customers/search_customers_by_attr"),s=[],i=null,o=v.a.mark((function e(){var t,c,a,o,d,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j[l],(c=n.rows[t]).first&&c.second&&c.third){e.next=4;break}throw new Error("Row has empty/default values. Fetching aborted.");case 4:return a={information_type:c.first.toLowerCase().split(" ").join("_"),category:c.second.toLowerCase().split(" ").join("_"),value:c.third.toLowerCase().split(" ").join("_")},e.next=7,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:return o=e.sent,e.next=10,o.json();case 10:d=e.sent,u=d.map((function(e){return e.id})),i=null===i?new Set(u):new Set(Object(fe.a)(i).filter((function(e){return u.includes(e)}))),s.push({rowKey:t,figures:i.size,customerIDs:Object(fe.a)(i)});case 14:case"end":return e.stop()}}),e)})),l=0,j=Object.keys(n.rows);case 7:if(!(l<j.length)){e.next=12;break}return e.delegateYield(o(),"t0",9);case 9:l++,e.next=7;break;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),cc=Object(w.b)("campaignManagement/fetchFiguresForRow",function(){var e=Object(y.a)(v.a.mark((function e(t,c){var a,n,r,s,i,o,l,j,d,u,b,O;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.getState,n=a().campaignManagement,(r=n.rows[t])&&r.first&&r.second&&r.third){e.next=5;break}throw new Error("Row data is missing or incomplete. Fetching aborted.");case 5:return s="".concat("http://localhost:5000","/customers/search_customers_by_attr"),i={information_type:r.first.toLowerCase().split(" ").join("_"),category:r.second.toLowerCase().split(" ").join("_"),value:r.third.toLowerCase().split(" ").join("_")},e.next=9,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 9:return o=e.sent,e.next=12,o.json();case 12:for(l=e.sent,j=l.map((function(e){return e.id})),d=j,u=0,b=Object.keys(n.rows);u<b.length;u++)O=b[u],Number(O)<Number(t)&&function(){var e=n.rows[O];d=d.filter((function(t){return e.customerIDs.includes(t)}))}();return e.abrupt("return",{rowId:t,figures:d.length,customerIDs:d});case 17:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),ac=Object(w.b)("campaignManagement/createCampaign",function(){var e=Object(y.a)(v.a.mark((function e(t,c){var a,n,r,s,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.getState,n=c.rejectWithValue,r=a().campaignManagement,s="".concat("http://localhost:5000","/campaign"),i={name:r.eventName,eventBased:!0,triggerTime:r.tabData.Email.timelineState.recurrence.recurrenceTime,type:"EMAIL",recurrenceType:r.tabData.Email.timelineState.recurrence.type.toUpperCase(),start:r.tabData.Email.timelineState.startDate,end:r.tabData.Email.timelineState.endDate,templateText:r.tabData.Email.content,customerIDs:r.allCustomerIDs},console.log("Publish body",i),e.prev=5,e.next=8,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 8:if(o=e.sent,console.log("response",o),o.ok){e.next=12;break}throw new Error("Failed to create campaign");case 12:return e.abrupt("return",o.json());case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return",n(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,c){return e.apply(this,arguments)}}()),nc={isModalOpen:!1,dropdownData:{"Personal Information":{Age:["25-30","31-35"],Gender:["Male","Female"],"Marital Status":["Single","Married"],Location:["Delhi","Mumbai"]},Interests:{},Occupation:"",Activity:"","Family Details":"","Financial Information":"","Insurance Details":"",Vehicle:"",Health:""},rows:Object(f.a)({},Date.now().toString(),{first:"",second:"",third:"",figures:null,customerIDs:[]}),allCustomerIDs:[],selectedCombinations:[],eventName:"",eventDate:null,step:1,activeTab:"Email",startDate:null,endDate:null,tabData:{Email:{content:"",timelineState:{},fileName:null,file:null,characterCount:0,charLimit:500},SMS:{content:"",timelineState:{},fileName:null,file:null,characterCount:0,charLimit:160},Notification:{content:"",timelineState:{},fileName:null,file:null,characterCount:0,charLimit:250},Whatsapp:{content:"",timelineState:{},fileName:null,file:null,characterCount:0,charLimit:2e3}},radarData:[{count:120,subject:"EZ-Auto"},{count:98,subject:"Cyberior"},{count:86,subject:"Homecare"},{count:99,subject:"E-Portal 2.0"},{count:85,subject:"EZ-Travel"}],downloadDataStatus:null,error:null,rowIdsArray:[],loadingStates:{},errors:{}},rc=Object(w.c)({name:"campaignManagement",initialState:nc,reducers:{toggleModal:function(e,t){e.isModalOpen=t.payload},updateDropdownData:function(e,t){e.dropdownData=t.payload},updateRows:function(e,t){e.rows=t.payload,e.rowIdsArray=[],e.allCustomerIDs=Object(fe.a)(new Set(Object.values(e.rows).filter((function(e){return e.customerIDs&&e.customerIDs.length})).flatMap((function(e){return e.customerIDs}))))},updateSelectedCombinations:function(e,t){e.selectedCombinations=t.payload},setCampaignName:function(e,t){e.campaignName=t.payload},setEventName:function(e,t){e.eventName=t.payload},setEventDate:function(e,t){e.eventDate=t.payload},setStep:function(e,t){e.step=t.payload},setStartDate:function(e,t){e.startDate=t.payload},setEndDate:function(e,t){e.endDate=t.payload,e.eventDate=t.payload},setActiveTab:function(e,t){e.activeTab=t.payload},updateTabData:function(e,t){e.tabData=t.payload},setRadarData:function(e,t){e.radarData=t.payload},resetModal:function(e){e.step=nc.step,e.campaignName=nc.campaignName,e.eventName=nc.eventName,e.activeTab=nc.activeTab,e.tabData=nc.tabData,e.eventDate=nc.eventDate}},extraReducers:(Kt={},Object(f.a)(Kt,tc.pending,(function(e){e.downloadDataStatus="loading"})),Object(f.a)(Kt,tc.fulfilled,(function(e,t){e.downloadDataStatus="success",t.payload.forEach((function(t){e.rows[t.rowKey].figures=t.figures,e.rows[t.rowKey].customerIDs=t.customerIDs})),e.rowIdsArray=Object(fe.a)(new Set([].concat(Object(fe.a)(e.rowIdsArray),Object(fe.a)(t.payload.map((function(e){return e.rowKey}))))));var c=Math.max.apply(Math,Object(fe.a)(e.rowIdsArray.map(Number)));e.allCustomerIDs=Object(fe.a)(e.rows[c].customerIDs)})),Object(f.a)(Kt,tc.rejected,(function(e,t){e.downloadDataStatus="failed",e.error=t.error.message})),Object(f.a)(Kt,cc.pending,(function(e,t){var c=t.meta.arg;e.loadingStates[c]="loading",e.errors[c]=null})),Object(f.a)(Kt,cc.fulfilled,(function(e,t){var c=t.payload,a=c.rowId,n=c.figures,r=c.customerIDs;e.rows[a].figures=n,e.rows[a].customerIDs=r,e.loadingStates[a]="loaded";var s=Math.max.apply(Math,Object(fe.a)(Object.keys(e.rows).map(Number)));Number(a)===s&&(e.allCustomerIDs=Object(fe.a)(r))})),Object(f.a)(Kt,cc.rejected,(function(e,t){var c=t.meta.arg;e.loadingStates[c]="error",e.errors[c]=t.error.message})),Kt)}),sc=rc.actions,ic=sc.toggleModal,oc=sc.updateDropdownData,lc=sc.updateRows,jc=sc.updateSelectedCombinations,dc=(sc.setCampaignName,sc.setEventName),uc=sc.setEventDate,bc=sc.setStep,Oc=(sc.setStartDate,sc.setEndDate,sc.setActiveTab),mc=sc.updateTabData,hc=(sc.setRadarData,sc.resetModal),pc=function(e){return e.campaignManagement.radarData},xc=rc.reducer,fc=Object(w.b)("campaign/fetchData",Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={data:[]},e.abrupt("return",t.data);case 2:case"end":return e.stop()}}),e)})))),gc=Object(w.b)("campaign/fetchSources",Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sources:[]},e.abrupt("return",t.sources);case 2:case"end":return e.stop()}}),e)})))),vc=Object(w.b)("campaign/fetchCampaignNames",Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={campaignNames:[]},e.abrupt("return",t.campaignNames);case 2:case"end":return e.stop()}}),e)})))),yc=Object(w.c)({name:"campaign",initialState:{data:[{name:"Campaign Name 1",contactability:4e3,interested:3e3,converted:2e3,over:100,total:7100},{name:"Campaign Name 2",contactability:9e3,interested:6500,converted:4500,over:300,total:20300},{name:"Campaign Name 3",contactability:5e3,interested:3700,converted:2500,over:150,total:11350},{name:"Campaign Name 4",contactability:5500,interested:4e3,converted:2700,over:180,total:12380},{name:"Campaign Name 5",contactability:4800,interested:3400,converted:2300,over:120,total:10620},{name:"Campaign Name 6",contactability:4700,interested:3300,converted:2200,over:110,total:10310},{name:"Campaign Name 7",contactability:4600,interested:3200,converted:2100,over:100,total:1e4}],sources:["Homecare","Cyberior","EZ-Auto","EZ-Travel","E-Portal 2.0"],campaignNames:["Campaign 1","Campaign 2","Campaign 3"],status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(fc.pending,(function(e){e.status="loading"})).addCase(fc.fulfilled,(function(e,t){e.status="succeeded",t.payload&&t.payload.length>0&&(e.data=t.payload)})).addCase(fc.rejected,(function(e,t){e.status="failed",e.error=t.error.message})).addCase(gc.fulfilled,(function(e,t){t.payload&&t.payload.length>0&&(e.sources=t.payload)})).addCase(vc.fulfilled,(function(e,t){t.payload&&t.payload.length>0&&(e.campaignNames=t.payload)}))}}).reducer,wc=Object(w.a)({reducer:{auth:P,customer:ae,keyword:ht,rolePermission:ec,campaignManagement:xc,campaign:yc}}),Sc=["path"];function kc(e){var t=e.path,c=Object(Ut.a)(e,Sc);return console.log(t,c),Object(x.c)((function(e){return e.auth})).isLoggedIn?Object(Y.jsx)(z.b,Object(Z.a)({path:t},c)):Object(Y.jsx)(z.a,{to:"/login"})}var Cc=c(925),Nc=c(906),Dc=c(854),Ec=c.p+"static/media/login.fb9a0a6a.png",Pc=c.p+"static/media/eaLogo.f8ac5978.png";function Fc(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(p.a)(r,2),i=s[0],o=s[1],l=Object(x.b)(),j=Object(z.h)(),d=Object(x.c)((function(e){return e.auth})),u=d.status,b=d.isLoggedIn,O=d.user;return Object(a.useEffect)((function(){"success"===u&&b&&(l($t(O._id)),j("/"))}),[u,j]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(Ue.a,{children:Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(ue.a,{children:Object(Y.jsxs)(Cc.a,{style:{width:"500px",height:"550px"},src:Ec,radius:"md",pt:300,mt:95,ml:69,children:[Object(Y.jsxs)(K.a,{c:"white",pl:48,pr:56,children:[Object(Y.jsx)(T.a,{children:"Title"}),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi auctor sagittis nunc nec sollicitudin. Duis ultrices tristique ligula ac suscipit."]}),Object(Y.jsxs)(se.a,{ml:48,mb:48,mt:30,children:["Read More",Object(Y.jsx)(Dc.a,{})]})]})})}),Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(_.a,{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(ue.a,{children:Object(Y.jsx)(Nc.a,{width:150,height:128,src:Pc,mt:95,mr:313,ml:288,mb:33})}),Object(Y.jsxs)(ie.a,{shadow:"md",ml:50,mr:100,bg:"#F1F5F9",children:[Object(Y.jsx)(L.a,{label:"Email",placeholder:"you@ea.in",value:c,required:!0,onChange:function(e){return n(e.target.value)}}),Object(Y.jsx)(be.a,{label:"Password",placeholder:"Your password",required:!0,mt:"md",onChange:function(e){return o(e.target.value)}}),Object(Y.jsx)(Oe.a,{position:"apart",mt:"lg",children:Object(Y.jsx)(me.a,{label:"Remember me",sx:{lineHeight:1}})}),Object(Y.jsx)(se.a,{fullWidth:!0,mt:"xl",type:"submit",onClick:function(e){e.preventDefault(),l(k({email:c,password:i}))},children:"loading"===u?Object(Y.jsx)(Y.Fragment,{children:"Signing in"}):Object(Y.jsx)(Y.Fragment,{children:"Sign in"})}),"failed"===u&&Object(Y.jsx)(K.a,{style:{color:"red",padding:"10px"},children:"Incorrect credentials !"})]})]})})})]})})})})}var Ic={"Avid Traveler":c.p+"static/media/Avid Traveler.153391f9.png","Fitness Freak":c.p+"static/media/Fitness Freak.46faf880.png",Foodie:c.p+"static/media/Foodie.2aa654ef.png","Sports Fan":c.p+"static/media/Sports Fan.2152ca0c.png",Techie:c.p+"static/media/Techie.4d48204f.png",AddProfile:c.p+"static/media/AddProfile.4fbe8ef9.png"},Ac=(c(503),function(e){var t=e.shouldBounce,c=e.onClick,n=Object(a.useState)(""),r=Object(p.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){i(t?"bounce 1s ease 3":"")}),[t]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(_.a,{children:Object(Y.jsx)("div",{style:{cursor:"pointer",animation:s,width:"100px",height:"100px",borderRadius:"50%",backgroundImage:"url(".concat(Ic.AddProfile,")"),backgroundSize:"cover",backgroundPosition:"center"},onClick:c})}),Object(Y.jsx)(_.a,{children:Object(Y.jsx)(K.a,{fw:700,size:"sm",mt:-10,children:"Add Profile Details"})})]})})}),zc={625888:"64898d22d5fb0269864e8a28",1234561236:"6489b89ca22035a008b7186e",9493486611:"6489b89da22035a008b71872",63252:"6489b8a0a22035a008b71877",9632389602:"6489b8a0a22035a008b7187b",6232522:"6489b8a2a22035a008b71881",5222200:"6489b8a3a22035a008b71884",8801214640:"6489b8a6a22035a008b7188c",9831015310:"6489b8b3a22035a008b718a1",9818403793:"6489b8b4a22035a008b718a4",8141405397:"6489b8b4a22035a008b718a7",212114:"6489b8b5a22035a008b718aa",9844521636:"6489b8b6a22035a008b718af",7978341669:"6489b8b8a22035a008b718b4",6378564387:"6489b8b8a22035a008b718b7",1212121313:"6489b8b9a22035a008b718bb",9748248996:"6489b8bba22035a008b718bf",1234561238:"6489b8bba22035a008b718c2",12022224:"6489b8bca22035a008b718c5"},Mc=function(){var e=Object(A.e)(),t=Object(a.useState)(!1),c=Object(p.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),i=Object(p.a)(s,2),l=i[0],j=i[1],d=Object(a.useRef)(null),u=Object(a.useState)(""),b=Object(p.a)(u,2),O=b[0],m=b[1],h=Object(a.useState)(!1),x=Object(p.a)(h,2),f=x[0],g=x[1],w=Object(a.useState)(""),S=Object(p.a)(w,2),k=S[0],C=S[1],N=Object(a.useState)(""),D=Object(p.a)(N,2),E=D[0],P=D[1];Object(a.useEffect)((function(){var e=function(e){"closeIframe"===e.data&&j(!1)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]);var F=function(){var e=Object(y.a)(v.a.mark((function e(){var t,c,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=30;break}if(!(t=zc[O])){e.next=28;break}return e.prev=3,e.next=6,o.a.get("".concat("http://localhost:5000","/customers/").concat(t));case 6:return c=e.sent,e.next=9,o.a.get("".concat("http://localhost:5000","/profile_mapping/").concat(t));case 9:return a=e.sent,e.next=12,o.a.get("".concat("http://localhost:5000","/profile/").concat(t));case 12:if(n=e.sent,console.log("profile response",c),s={name:c.data.customer_details.personal_details.full_name||"-",email:c.data.customer_details.email||"-",mobileNo:c.data.customer_details.mobile||"-",source:c.data.customer_details.source||"-",city:c.data.customer_details.personal_details.location||"-",customerId:t},console.log("details",s),console.log("response Categories data",a),!(c.data&&a.data&&n.data)){e.next=21;break}P("/agent?".concat(new URLSearchParams(Object(Z.a)(Object(Z.a)({},s),{},{profileCompletion:n.data.completionPercentage.toString(),categories:JSON.stringify(a.data.categories),profilingTypes:"Foodie"})))),e.next=22;break;case 21:throw new Error("Failed to get updated profile details");case 22:r(!0),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),console.error("Failed to fetch updated profile details:",e.t0);case 28:e.next=31;break;case 30:r(!1);case 31:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(){return e.apply(this,arguments)}}(),I=function(){j((function(e){return!e}))};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(_.a,{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(L.a,{label:"Mobile Number",value:O,onChange:function(e){var t=e.currentTarget.value;m(t),function(e){var t=/^([6-9]{1}\d{9})$/.test(e);g(!0),C(t?"":"Please enter a valid mobile number")}(t)},required:!0,error:k}),Object(Y.jsx)(se.a,{onClick:F,disabled:!f,children:"Simulate Call"}),Object(Y.jsx)(se.a,{onClick:function(){r(!1)},children:"End Call"})]})}),n&&Object(Y.jsx)("div",{style:{position:"fixed",bottom:e.spacing.xs,right:e.spacing.xs,zIndex:1e3},children:Object(Y.jsx)(Ac,{shouldBounce:n,onClick:I})}),l&&Object(Y.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:999,backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[Object(Y.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1001},children:Object(Y.jsx)(H.a,{onClick:I,size:"xl",c:"white",children:Object(Y.jsx)(kt.a,{size:24})})}),Object(Y.jsx)("iframe",{ref:d,src:E,title:"Sample iFrame",style:{position:"absolute",top:"50%",left:"50%",width:"60%",height:"75%",transform:"translate(-50%, -50%)",border:"none",borderRadius:e.radius.md},allowFullScreen:!0})]})]})},Tc=c(855),Rc=c(2);var _c=c(464),Bc=function(e){var t=e.details,c=e.onDetailChange,a=e.editable;return Object(Y.jsx)(yt.a,{children:Object.entries(t).filter((function(e){var t=Object(p.a)(e,2),c=t[0];t[1];return"customerId"!=c})).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(Y.jsxs)(Ye.a,{gutter:"5",justify:"start",align:"center",children:[Object(Y.jsx)(_c.a,{span:3,children:Object(Y.jsx)(K.a,{fw:550,size:12,children:n.replace(/^\w/,(function(e){return e.toUpperCase()}))})}),Object(Y.jsx)(_c.a,{span:1,children:Object(Y.jsx)(K.a,{children:":"})}),Object(Y.jsx)(_c.a,{span:8,children:a&&"mobileNo"!==n?Object(Y.jsx)(L.a,{size:"12",sx:{input:{backgroundColor:"#F1F5F9",border:0}},fz:"sm",c:"dimmed",value:r,onChange:function(e){return c&&c(n,e.currentTarget.value)}}):Object(Y.jsx)(K.a,{fz:"sm",c:"dimmed",children:r})})]},n)}))})},Lc=function(e){var t=e.percentage;return Object(Y.jsx)("div",{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(K.a,{fw:550,size:15,children:"Profile Completion"}),Object(Y.jsx)(_.a,{mb:20,children:Object(Y.jsx)(re.a,{size:70,thickness:5,sections:[{value:t,color:t>75?"#1D9B25":t>60?"#CFA400":"#D85972"}],label:Object(Y.jsxs)(K.a,{color:"",weight:20,align:"center",size:"xs",children:[t,"%"]})})})]})})},Kc=function(e){var t=e.profilingInterests;return Object(Y.jsx)(Oe.a,{position:"center",children:t.map((function(e){if(e){var t=Ic[e];return Object(Y.jsxs)("div",{children:[Object(Y.jsx)($e.a,{size:80,radius:80,src:t}),Object(Y.jsx)(_.a,{children:Object(Y.jsx)(K.a,{fw:550,size:15,children:e})})]},e)}}))})},Hc=["label","onRemove"];function Uc(e){var t=e.setKeywordsAdded,c=e.customerId,n=Object(a.useState)([]),r=Object(p.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)([]),j=Object(p.a)(l,2),d=j[0],u=j[1],b=Object(a.useRef)(null),O=function(e){u(e)},m=function(e){var t=e.label,c=e.onRemove,a=Object(Ut.a)(e,Hc),n=Object(Y.jsx)(H.a,{onMouseDown:c,size:"xs",color:"blue",radius:"xl",variant:"transparent",children:Object(Y.jsx)(kt.a,{size:Object(Qe.b)(10)})});return Object(Y.jsx)("div",Object(Z.a)(Object(Z.a)({},a),{},{children:Object(Y.jsx)(et.a,{size:"sm",variant:"outline",rightSection:n,children:t},t)}))};Object(a.useEffect)((function(){o.a.get("".concat("http://localhost:5000","/keywords")).then(function(){var e=Object(y.a)(v.a.mark((function e(t){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat("http://localhost:5000","/keywords/customer/").concat(c));case 2:a=e.sent,console.log("customer Keywords Data",a),n=xt.a.differenceWith(t.data.data,a.data.data,xt.a.isEqual),r=n.map((function(e){var t=e.id,c=e.category,a=e.value;return{value:t,label:"".concat(a," [").concat(c,"]")}})),i(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){var e;null===(e=b.current)||void 0===e||e.focus(),t(d)}),[d]);var h=function(){return Object(Y.jsx)(jt.a,{hoverOnSearchChange:!0,variant:"filled",radius:"md",label:Object(Y.jsx)(K.a,{fw:700,children:"Keywords (".concat(d.length,")")}),value:d,data:s,searchable:!0,creatable:!0,getCreateLabel:function(e){return"+ Create ".concat(e)},onChange:O,placeholder:"Enter customer's keywords",clearable:!0,filter:function(e,t,c){return!t},onCreate:function(e){var t={value:e,label:e};return i((function(e){return[].concat(Object(fe.a)(e),[t])})),t},styles:{input:{minHeight:"7rem"}},valueComponent:m,transitionProps:{duration:150,transition:"pop-top-left",timingFunction:"ease"},ref:b})};return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:Object(Y.jsx)(h,{})})})}var qc=c(895),Wc=function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(qc.a,{label:Object(Y.jsx)(K.a,{fw:700,children:"Remarks"}),radius:"md",variant:"filled"})})},Gc=(c(504),function(e){var t=e.categories,c=e.setQuestionsHistory,n=Object(a.useState)({}),r=Object(p.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)([]),j=Object(p.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(!0),O=Object(p.a)(b,2),m=O[0],h=O[1];return Object(a.useEffect)((function(){h(!0);var e=function(){var e=Object(y.a)(v.a.mark((function e(){var a,n,r,s,i,l,j,d,b,O,m,p,x,f,g,y,w,S,k,C;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object.keys(t),n=[],r=0;r<3;r++)s=Math.floor(Math.random()*a.length),i=a[s],l=t[i],n.push(l),a.splice(s,1);j=[],d=0,b=n;case 5:if(!(d<b.length)){e.next=24;break}O=b[d],m=[],p=Object(Rc.a)(O);try{for(p.s();!(x=p.n()).done;)f=x.value,m.push("key: ".concat(f.key,", level: ").concat(f.level))}catch(v){p.e(v)}finally{p.f()}return g={input:m.join(", ")},e.next=13,o.a.post("".concat("http://localhost:5000","/process"),g,{headers:{"Content-Type":"application/json"}});case 13:y=e.sent,w=y.data.result,S=void 0,k=void 0,C=void 0;try{S=w.split(": ")[2].split(", level")[0],k=parseInt(w.split(", level: ")[1].split(", Answers")[0]),C=w.split("Answers: ")[1].split(", ")}catch(N){console.error("Failed to get a question "),S="Test Question",k=2,C=["Test Answer 1","Test Answer 2","Test Answer 3","None"]}C.push("None"),j.push({id:j.length+1,question:S,answers:C.map((function(e,t){return{id:t+1,text:e}})),type:"multiple",level:k,category:O[0].key});case 21:d++,e.next=5;break;case 24:u(j),c(j),h(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=d.map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{selectedAnswers:s[e.id]||[]})}));c(e)}),[s]),m?Object(Y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Y.jsx)(le.a,{color:"red",variant:"bars"})}):Object(Y.jsx)("div",{children:Object(Y.jsx)(Ue.a,{spacing:"xs",children:Object(Y.jsx)(wt.a.Autosize,{mah:220,maw:400,mx:"auto",children:d.map((function(e,t){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(K.a,{pt:15,fz:"sm",c:"dimmed",children:"Q".concat(t+1,": ").concat(e.question)}),Object(Y.jsx)(Oe.a,{spacing:1,children:e.answers.map((function(t){var c;return Object(Y.jsx)("label",{children:Object(Y.jsxs)(Oe.a,{spacing:4,children:[Object(Y.jsx)("input",{type:"checkbox",checked:(null===(c=s[e.id])||void 0===c?void 0:c.includes(t.id))||!1,onChange:function(){return c=e.id,a=t.id,n="multiple"===e.type,void i((function(e){return n&&e[c]?e[c].includes(a)?Object(Z.a)(Object(Z.a)({},e),{},Object(f.a)({},c,e[c].filter((function(e){return e!==a})))):Object(Z.a)(Object(Z.a)({},e),{},Object(f.a)({},c,[].concat(Object(fe.a)(e[c]),[a]))):Object(Z.a)(Object(Z.a)({},e),{},Object(f.a)({},c,[a]))}));var c,a,n}}),Object(Y.jsx)(K.a,{fz:"sm",mr:5,c:"dimmed",children:t.text})]})},t.id)}))})]},e.id)}))})})})}),Yc=c(135),Jc={name:"",email:"",mobileNo:"",source:"",city:"",customerId:""},Vc=function(){var e=function(){var e,t=Object(z.g)(),c=new URLSearchParams(t.search),a={},n=Object(Rc.a)(c.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(p.a)(e.value,2),s=r[0],i=r[1];a[s]=i}}catch(o){n.e(o)}finally{n.f()}return a}(),t=e.name,c=e.email,n=e.source,r=e.city,s=e.mobileNo,l=e.customerId,j=e.categories,d=e.profileCompletion,u=e.profilingTypes,b=void 0===u?"":u,O=Object(a.useState)({name:t,email:c,mobileNo:s,source:n,city:r,customerId:l}),m=Object(p.a)(O,2),h=m[0],x=m[1],g=Object(a.useState)(parseInt(d,10)),w=Object(p.a)(g,2),S=w[0],k=w[1],C=Object(a.useState)(b.split(",")),N=Object(p.a)(C,2),D=N[0],E=N[1],P=Object(a.useState)(j?JSON.parse(j):{}),F=Object(p.a)(P,2),I=F[0],A=(F[1],Object(a.useState)([{details:h,categories:I,profileCompletion:S,profilingTypes:D}])),M=Object(p.a)(A,2),T=M[0],R=M[1],L=Object(a.useState)(!1),U=Object(p.a)(L,2),q=U[0],W=U[1],G=Object(a.useState)(!1),J=Object(p.a)(G,2),V=J[0],Q=J[1],$=Object(a.useState)([]),X=Object(p.a)($,2),ee=X[0],te=X[1],ce=Object(a.useState)([]),ae=Object(p.a)(ce,2),ne=ae[0],re=ae[1];Object(a.useEffect)((function(){var e=T.find((function(e){return e.details.mobileNo===s}));e?(x(e.details),k(e.profileCompletion),E(e.profilingTypes)):(x(Object(Z.a)(Object(Z.a)({},Jc),{},{mobileNo:s})),k(0))}),[s,T]),Object(a.useEffect)((function(){console.log("questionHistory",ee),console.log("categories in AgentEntry",j)}),[ee]);var ie=function(e){return Yc.a.show({id:"submit-error",withCloseButton:!0,onClose:function(){return console.log("unmounted")},onOpen:function(){return console.log("mounted")},autoClose:5e3,title:e.message,message:"There seems to be a problem with the network",color:"red",icon:Object(Y.jsx)(kt.a,{}),className:"my-notification-class",loading:!1})},oe=function(){Yc.a.show({id:"submit-success",withCloseButton:!0,onClose:function(){return console.log("unmounted")},onOpen:function(){return console.log("mounted")},autoClose:5e3,title:"Success",message:"Profile has been submitted successfully",color:"teal",icon:Object(Y.jsx)(St.a,{}),className:"my-notification-class",loading:!1})},le=function(){var e=Object(y.a)(v.a.mark((function e(){var t,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("http://localhost:5000","/question/process"),c={customerId:l,keywords:ne,history:ee},console.log("body =>",c),console.dir(c),e.next=7,o.a.post(t,c).then(console.log).then(oe).then((function(){return R((function(e){return[].concat(Object(fe.a)(e),[{details:h,categories:I,profileCompletion:0,profilingTypes:[]}])}))})).then((function(){return setTimeout((function(){window.parent.postMessage("closeIframe","*")}),2e3)})).catch(ie).catch(console.log);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ie(new i.AxiosError("Failed to submit questionHistory!"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),je=function(e){le()},de=T.some((function(e){return e.details.mobileNo===s}));return Object(Y.jsxs)(ue.a,{p:10,children:[Object(Y.jsxs)(yt.a,{children:[Object(Y.jsxs)(Oe.a,{position:"apart",children:[Object(Y.jsx)(yt.a,{}),Object(Y.jsx)(_.a,{children:Object(Y.jsx)(K.a,{fw:550,children:"Customer"})}),Object(Y.jsxs)(B.a,{justify:"flex-end",direction:"column",style:{marginBottom:"10px"},children:[Object(Y.jsx)(H.a,{onClick:le,children:Object(Y.jsx)(kt.a,{size:15})}),Object(Y.jsx)(H.a,{onClick:function(){V?(document.exitFullscreen(),Q(!1)):(document.documentElement.requestFullscreen(),Q(!0))},children:Object(Y.jsx)(Tc.a,{size:15})})]})]}),Object(Y.jsx)(it.a,{size:"xs"})]}),Object(Y.jsxs)(dt.a,{opened:q,onClose:function(){return W(!1)},title:"Confirm action",size:"xs",transitionProps:{transition:"fade",duration:600,timingFunction:"linear"},children:[Object(Y.jsx)(K.a,{children:"Do you want to submit the changes?"}),Object(Y.jsx)(se.a,{onClick:function(){return je()},children:"Submit"}),Object(Y.jsx)(se.a,{onClick:function(){return je()},children:"Discard"})]}),Object(Y.jsx)(ue.a,{pl:10,pr:10,radius:"md",mt:5,bg:"#f1f3f5",children:Object(Y.jsxs)(Oe.a,{position:"apart",grow:!0,children:[Object(Y.jsx)(Bc,{details:h,onDetailChange:function(e,t){x((function(c){return Object(Z.a)(Object(Z.a)({},c),{},Object(f.a)({},e,t))}))},editable:!de}),Object(Y.jsx)(_.a,{children:Object(Y.jsx)(Lc,{percentage:S})}),Object(Y.jsx)(Kc,{profilingInterests:D})]})}),Object(Y.jsxs)(Oe.a,{position:"apart",grow:!0,children:[Object(Y.jsxs)(yt.a,{pt:10,children:[Object(Y.jsx)(Uc,{setKeywordsAdded:re,customerId:l}),Object(Y.jsx)(Wc,{})]}),Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(Gc,{categories:I,setQuestionsHistory:te})})]}),Object(Y.jsx)(it.a,{my:"md",size:"xs"}),Object(Y.jsx)(B.a,{justify:"flex-end",children:Object(Y.jsx)(se.a,{bg:"#EF3E42",onClick:le,children:"Submit"})})]})},Zc=c(856),Qc=c(857),$c=c(858),Xc=c(859),ea=c(860),ta=c(861),ca=c(907),aa=function(e){var t=e.isModalOpen,c=e.handleModalClose,a=e.selectedUserRoleName,n=e.selectedUser,r=e.setSelectedUser,s=e.permissions,i=e.selectedPermission,o=e.setSelectedPermission,l=e.rolesPermissions,j=e.handleAssignPermission,d=e.users,u=e.selectedRole;return Object(Y.jsxs)(Y.Fragment,{children:[" ",Object(Y.jsxs)(dt.a,{opened:t,onClose:c,title:"Assign permissions",size:"lg",style:{content:{maxHeight:"80vh"}},children:[Object(Y.jsx)(K.a,{fz:"xl",children:"Select user below assigning new permission"}),a&&Object(Y.jsxs)(K.a,{children:[" ROLE : ",a]}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ca.a,{label:"Select user",placeholder:"Pick one",data:d.map((function(e){return{value:e.id,label:e.agentName||e.email}})),value:n,onChange:r}),Array.isArray(s)&&s.length>0?Object(Y.jsx)(ca.a,{label:"Select permission",placeholder:"Pick one",disabled:null===u,data:null===s||void 0===s?void 0:s.map((function(e){return{value:e.id,label:e.name,disabled:l.some((function(t){return t.permissionId===e.id&&t.userId===n}))}})),value:i,onChange:o,dropdownComponent:"div"}):Object(Y.jsx)(K.a,{children:"Loading permissions"}),Object(Y.jsx)("br",{}),Object(Y.jsx)(se.a,{variant:"gradient",gradient:{from:"indigo",to:"red"},className:"mt-4",onClick:j,disabled:null===u||null===i||null===u,children:"Assign"})]})]})},na=function(e){var t=e.useStyles,c=e.initialData,n=e.title,r=t(),s=r.classes,i=r.cx,o=Object(a.useState)(!1),l=Object(p.a)(o,2),j=l[0],d=l[1],u=c.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.rolename}),Object(Y.jsx)("td",{children:e.permissionname}),Object(Y.jsx)("td",{children:e.username}),Object(Y.jsx)("td",{children:Object(Y.jsx)(se.a,{color:"green",size:"xs",compact:!0,children:e.isactive})}),Object(Y.jsx)("td",{children:e.created_at}),Object(Y.jsx)("td",{children:Object(Y.jsx)(H.a,{variant:"light",children:Object(Y.jsx)(Zc.a,{size:"1rem"})})})]},e.id)}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(T.a,{style:{padding:"10px"},order:4,color:"blue.5",children:n}),Object(Y.jsx)(wt.a,{h:600,onScrollPositionChange:function(e){var t=e.y;return d(0!==t)},children:Object(Y.jsxs)(oe.a,{miw:700,striped:!0,withBorder:!0,highlightOnHover:!0,withColumnBorders:!0,children:[Object(Y.jsx)("thead",{className:i(s.header,Object(f.a)({},s.scrolled,j)),children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Role Name"}),Object(Y.jsx)("th",{children:"Permission Name"}),Object(Y.jsx)("th",{children:"User Email"}),Object(Y.jsx)("th",{children:"Status"}),Object(Y.jsx)("th",{children:"Created At"}),Object(Y.jsx)("th",{children:"Action"})]})}),Object(Y.jsx)("tbody",{children:u})]})})]})},ra=c.p+"static/media/logo.6dbf63a8.svg",sa=function(e){var t=e.useStyles,c=e.initialData,n=e.title,r=t(),s=r.classes,i=r.cx,o=Object(a.useState)(!1),l=Object(p.a)(o,2),j=l[0],d=l[1],u=c.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.email}),Object(Y.jsx)("td",{children:e.role}),Object(Y.jsx)("td",{children:e.permissions}),Object(Y.jsx)("td",{children:Object(Y.jsx)(se.a,{color:"green",size:"xs",compact:!0,children:e.isactive})}),Object(Y.jsx)("td",{children:e.created_at}),Object(Y.jsx)("td",{children:Object(Y.jsx)(H.a,{variant:"light",children:Object(Y.jsx)(Zc.a,{size:"1rem"})})})]},e.id)}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(T.a,{style:{padding:"10px"},order:4,color:"blue.5",children:n}),Object(Y.jsx)(wt.a,{h:600,onScrollPositionChange:function(e){var t=e.y;return d(0!==t)},children:Object(Y.jsxs)(oe.a,{miw:700,striped:!0,withBorder:!0,highlightOnHover:!0,withColumnBorders:!0,children:[Object(Y.jsx)("thead",{className:i(s.header,Object(f.a)({},s.scrolled,j)),children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Email"}),Object(Y.jsx)("th",{children:"Role"}),Object(Y.jsx)("th",{children:"Permissions"}),Object(Y.jsx)("th",{children:"Status"}),Object(Y.jsx)("th",{children:"Created At"}),Object(Y.jsx)("th",{children:"Action"})]})}),Object(Y.jsx)("tbody",{children:u})]})})]})},ia=c(863),oa=c(862),la=c(117),ja=c(926);function da(e){var t=e.icon,c=e.color,a=e.label,n=e.link;return Object(Y.jsx)(he.c,{to:n,children:Object(Y.jsx)(la.a,{sx:function(e){return{display:"block",width:"100%",padding:e.spacing.xs,borderRadius:e.radius.sm,"&:hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]},"&:active":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]}}},children:Object(Y.jsxs)(Oe.a,{children:[Object(Y.jsx)(ja.a,{color:c,variant:"light",children:t}),Object(Y.jsx)(K.a,{size:"sm",children:a})]})})})}var ua=[{icon:Object(Y.jsx)(oa.a,{size:"1rem"}),color:"blue",label:"Users",link:"users"},{icon:Object(Y.jsx)(ia.a,{size:"1rem"}),color:"grape",label:"Roles vs Permission",link:"rolesvspermissions"},{icon:Object(Y.jsx)(ia.a,{size:"1rem"}),color:"green",label:"Permission vs Users",link:"permissionrolemappings"},{icon:Object(Y.jsx)(ia.a,{size:"1rem"}),color:"teal",label:"Permissions",link:"permissions"}];function ba(e){var t=e.onLinkSelect,c=ua.map((function(e){return Object(a.createElement)(da,Object(Z.a)(Object(Z.a)({onClick:function(){return t(e)}},e),{},{key:e.label}))}));return Object(Y.jsx)("div",{children:c})}var Oa=function(e){var t=e.useStyles,c=e.initialData,n=e.title,r=t(),s=r.classes,i=r.cx,o=Object(a.useState)(!1),l=Object(p.a)(o,2),j=l[0],d=l[1],u=c.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.name}),Object(Y.jsx)("td",{children:e.permissions}),Object(Y.jsx)("td",{children:e.created_at}),Object(Y.jsx)("td",{children:Object(Y.jsx)(H.a,{variant:"light",children:Object(Y.jsx)(Zc.a,{size:"1rem"})})})]},e.id)}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(T.a,{style:{padding:"10px"},order:4,color:"blue.5",children:n}),Object(Y.jsx)(wt.a,{h:600,onScrollPositionChange:function(e){var t=e.y;return d(0!==t)},children:Object(Y.jsxs)(oe.a,{miw:700,striped:!0,withBorder:!0,highlightOnHover:!0,withColumnBorders:!0,children:[Object(Y.jsx)("thead",{className:i(s.header,Object(f.a)({},s.scrolled,j)),children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Name"}),Object(Y.jsx)("th",{children:"Permissions"}),Object(Y.jsx)("th",{children:"Created At"}),Object(Y.jsx)("th",{children:"Action"})]})}),Object(Y.jsx)("tbody",{children:u})]})})]})},ma=function(e){var t=e.isModalOpen,c=e.handleModalClose,a=e.handleCreatePermission,n=e.permissionName,r=e.setPermissionName;return Object(Y.jsxs)(Y.Fragment,{children:[" ",Object(Y.jsxs)(dt.a,{opened:t,onClose:c,title:"Create permissions",style:{content:{maxHeight:"80vh"}},children:[Object(Y.jsx)(L.a,{placeholder:"Permssion name",label:"Enter Permission name",value:n,onChange:function(e){return r(e.target.value)},withAsterisk:!0}),Object(Y.jsx)(se.a,{className:"mt-4",onClick:a,children:"Create"})]})]})},ha=function(e){var t=e.useStyles,c=e.initialData,n=e.title,r=t(),s=r.classes,i=r.cx,o=Object(a.useState)(!1),l=Object(p.a)(o,2),j=l[0],d=l[1],u=c.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.name}),Object(Y.jsx)("td",{children:Object(Y.jsx)(se.a,{color:"green",size:"xs",compact:!0,children:e.isactive})}),Object(Y.jsx)("td",{children:e.created_at}),Object(Y.jsx)("td",{children:Object(Y.jsx)(H.a,{variant:"light",children:Object(Y.jsx)(Zc.a,{size:"1rem"})})})]},e.id)}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(T.a,{style:{padding:"10px"},order:4,color:"blue.5",children:n}),Object(Y.jsx)(wt.a,{h:600,onScrollPositionChange:function(e){var t=e.y;return d(0!==t)},children:Object(Y.jsxs)(oe.a,{miw:700,striped:!0,withBorder:!0,highlightOnHover:!0,withColumnBorders:!0,children:[Object(Y.jsx)("thead",{className:i(s.header,Object(f.a)({},s.scrolled,j)),children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Name"}),Object(Y.jsx)("th",{children:"Status"}),Object(Y.jsx)("th",{children:"Created At"}),Object(Y.jsx)("th",{children:"Action"})]})}),Object(Y.jsx)("tbody",{children:u})]})})]})};function pa(e){return new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"})}var xa=function(){var e,t=Object(Be.a)((function(e){return{header:{position:"sticky",top:0,backgroundColor:"#c2c2c2",transition:"box-shadow 150ms ease","&::after":{content:'""',position:"absolute",left:0,right:0,bottom:0,borderBottom:"".concat(Object(Qe.b)(1)," solid ").concat("dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[2])}},scrolled:{boxShadow:e.shadows.sm}}})),c=Object(a.useState)(!1),n=Object(p.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(p.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(null),u=Object(p.a)(d,2),b=u[0],O=u[1],m=Object(a.useState)(null),h=Object(p.a)(m,2),f=h[0],g=h[1],v=Object(a.useState)(null),y=Object(p.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)(null),C=Object(p.a)(k,2),N=C[0],E=C[1],P=Object(a.useState)(""),F=Object(p.a)(P,2),I=F[0],A=F[1],L=Object(z.g)(),K=Object(x.b)(),H=Object(x.c)((function(e){return e.rolePermission})),U=H.rolesPermissionsStatus,q=H.rolesPermissions,W=(H.userPermissions,H.permissionsByRole,H.permissionsByRoleStatus,H.permissions),G=H.roles,J=Object(x.c)((function(e){return e.auth})),V=(J.user,J.users),Z={},Q=Object(Rc.a)(q);try{for(Q.s();!(e=Q.n()).done;){var $=e.value,X=$.userId,ee=$.permission.name;Z.hasOwnProperty(X)?Z[X].push(ee):Z[X]=[ee]}}catch(de){Q.e(de)}finally{Q.f()}var te,ce=V.map((function(e){return e.id})),ae=Object(Rc.a)(ce);try{for(ae.s();!(te=ae.n()).done;){var ne=te.value;Z.hasOwnProperty(ne)||(Z[ne]=[])}}catch(de){ae.e(de)}finally{ae.f()}console.log(L.pathname),Object(a.useEffect)((function(){K(qt()),K(D()),K(Zt()),K(Vt())}),[]),Object(a.useEffect)((function(){if(null!==b){var e=V.find((function(e){return e.id===b}));e.role&&(g(e.role.id),E(e.role.name))}}),[b]),Object(a.useEffect)((function(){null!==f&&K(Qt(f)),S(null)}),[f]);var re=q.map((function(e){return{id:e.id,rolename:e.role.name,permissionname:e.permission.name,username:e.user.email,isactive:e.isActive?"active":"inactive",created_at:pa(e.created_at)}})),ie=Object.keys(Z).length>0&&V.map((function(e){return{id:e.id,email:e.email,isactive:"active",role:e.role.name,permissions:Z[e.id].join(" / "),created_at:pa(e.created_at)}}));V.map((function(e){console.log(Z[e.id])}));var oe=G.map((function(e){return{id:e.id,name:e.name,permissions:e.defaultPermissions.map((function(e){return e.name})).join(" / "),created_at:pa(e.created_at)}})),le=W.map((function(e){return{id:e.id,name:e.name,isactive:"active",created_at:pa(e.created_at)}})),je=function(){r&&(s(!1),O(null),g(null),S(null)),l&&j(!1)};return"loading"!==U&&V&&0!==V.length?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(ge.a,{padding:"md",children:Object(Y.jsx)("div",{style:{display:"flex"},children:Object(Y.jsx)("span",{style:{flexGrow:"1",width:"100px"},children:Object(Y.jsxs)("div",{style:{padding:"10px"},children:[Object(Y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",marginTop:"-65px"},children:[Object(Y.jsx)("span",{children:Object(Y.jsx)(T.a,{pl:5,children:"ACL"})}),Object(Y.jsx)("span",{children:Object(Y.jsxs)(R.a,{children:[Object(Y.jsxs)(He.a,{height:600,p:"xs",width:{base:300},ml:40,children:[Object(Y.jsx)(He.a.Section,{mt:"xs"}),Object(Y.jsx)(He.a.Section,{grow:!0,mt:"md",children:Object(Y.jsx)(ba,{})})]}),Object(Y.jsx)(_.a,{children:Object(Y.jsxs)(B.a,{mt:5,children:["/acl/permissionrolemappings"===L.pathname&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(se.a,{className:"mt-4",onClick:function(){s(!0)},compact:!0,children:"Assign permissions"}),Object(Y.jsx)(aa,{isModalOpen:r,handleModalClose:je,selectedUserRoleName:N,selectedUser:b,setSelectedUser:O,permissions:W,selectedPermission:w,setSelectedPermission:S,rolesPermissions:q,handleAssignPermission:function(){K(Jt({roleId:f,permissionId:w,userId:b})),K(qt()),je()},users:V,selectedRole:f})]}),"/acl/permissions"===L.pathname&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(se.a,{className:"mt-4",onClick:function(){j(!0)},compact:!0,children:"Create permissions"}),Object(Y.jsx)(ma,{isModalOpen:l,handleCreatePermission:function(){K(Yt({name:I})),K(Zt()),je()},handleModalClose:je,permissionName:I,setPermissionName:A})]})]})})]})})]}),Object(Y.jsx)("div",{children:Object(Y.jsx)(z.d,{children:Object(Y.jsxs)(z.b,{children:[Object(Y.jsx)(z.b,{index:!0,element:Object(Y.jsx)(Y.Fragment,{children:"Default page"})}),Object(Y.jsx)(z.b,{path:"/permissionrolemappings",element:Object(Y.jsx)(na,{title:"acl/permissions vs users",useStyles:t,initialData:re})}),Object(Y.jsx)(z.b,{path:"/users",element:Object(Y.jsx)(sa,{title:"acl/users",useStyles:t,initialData:ie})}),Object(Y.jsx)(z.b,{path:"/rolesvspermissions",element:Object(Y.jsx)(Oa,{title:"acl/roles vs permissions",useStyles:t,initialData:oe})}),Object(Y.jsx)(z.b,{path:"/permissions",element:Object(Y.jsx)(ha,{title:"acl/all permissions",useStyles:t,initialData:le})})]})})})]})})})})}):Object(Y.jsx)(M.a,{visible:!0,overlayBlur:2,loaderProps:{size:"xl",variant:"dots"}})},fa=function(){return Object(Yc.b)({type:"warning",title:"Permission Denied!!",message:"You do not have access to this page. Please contact the admin"}),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(_.a,{children:Object(Y.jsx)(K.a,{fz:"xl",fw:700,children:"Permission Denied :("})})})},ga=c(864),va=c(865),ya=c(866),wa=function(e){var t=e.row,c=e.rowId,a=e.handleDropdownChange,r=e.dropdownData,s=e.selectedCombinations,i=e.deleteRow,o=t.figures,l=t.first?Object.keys(r[t.first]):[],j=t.second?r[t.first][t.second].filter((function(e){var a=t.first,n=t.second,r="Interests"===t.first?e.value:e,i=s.some((function(e){return e.first===a&&e.second===n&&("Interests"===t.first?e.third.value:e.third)===r})),o=s.some((function(e){return e.rowId===c&&e.first===a&&e.second===n&&("Interests"===t.first?e.third.value:e.third)===r}));return!i||o})):[],d=Object(x.b)(),u=Object(x.c)((function(e){return e.campaignManagement.loadingStates[c]})),b=(Object(x.c)((function(e){return e.campaignManagement.errors[c]})),function(){d(cc(c))});return Object(Y.jsxs)(n.a.Fragment,{children:[Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"mb-4 col-6 col-lg-12",children:Object(Y.jsx)(ca.a,{data:Object.keys(r).map((function(e){return{value:e,label:"string"===typeof e?e:null}})),searchable:!0,rightSection:Object(Y.jsx)(ga.a,{size:"1rem"}),rightSectionWidth:30,styles:{rightSection:{pointerEvents:"none"},input:{cursor:"pointer"}},value:t.first,placeholder:"Select Information Type",onChange:function(e){return a(c,"first",e)}})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"mb-4 col-6 col-lg-12",children:Object(Y.jsx)(ca.a,{data:l.map((function(e){return{value:e,label:"string"===typeof e?e:null}})),searchable:!0,rightSection:Object(Y.jsx)(ga.a,{size:"1rem"}),rightSectionWidth:30,styles:{rightSection:{pointerEvents:"none"},input:{cursor:"pointer"}},value:t.second,placeholder:"Select Category",onChange:function(e){return a(c,"second",e)}})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"mb-4 col-6 col-lg-12",children:Object(Y.jsx)(ca.a,{data:j.map((function(e){return"string"===typeof e?{value:e,label:e}:e})),searchable:!0,rightSection:Object(Y.jsx)(ga.a,{size:"1rem"}),rightSectionWidth:30,styles:{rightSection:{pointerEvents:"none"},input:{cursor:"pointer"}},value:t.third,placeholder:"Select Sub-category",onChange:function(e){a(c,"third",e),d(cc(c,e))}})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-1",children:Object(Y.jsx)(H.a,{onClick:function(){return i(c)},color:"red",variant:"subtle",size:"sm",children:Object(Y.jsx)(Nt.a,{})})}),Object(Y.jsxs)("div",{className:"col-12 col-lg-2",children:["loading"===u&&Object(Y.jsx)(le.a,{}),"error"===u&&Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)(H.a,{c:"red",children:Object(Y.jsx)(va.a,{})}),Object(Y.jsx)(H.a,{c:"blue",onClick:b,children:Object(Y.jsx)(ya.a,{})})]}),"loading"!==u&&"error"!==u&&Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)(H.a,{children:null!==o?o:"-"}),Object(Y.jsx)(H.a,{c:"blue",onClick:b,children:Object(Y.jsx)(ya.a,{})})]})})]})]})},Sa=c(886),ka=c(868),Ca=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.campaignManagement.eventName})),c=Object(x.c)((function(e){return e.campaignManagement.eventDate}));return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("div",{className:"",style:{minHeight:"100px"},children:Object(Y.jsxs)(B.a,{justify:"space-around",children:[Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)("label",{className:"date-inputs-control",children:"Event Name"}),Object(Y.jsx)(L.a,{id:"eventName",w:400,name:"eventName",placeholder:"Event Name",type:"text",value:t,onChange:function(t){return e(dc(t.currentTarget.value))}})]}),Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)("label",{className:"date-inputs-control",children:"Event date"}),Object(Y.jsx)(Sa.a,{value:c,popoverProps:{withinPortal:!0},rightSection:Object(Y.jsx)(H.a,{variant:"subtle",children:Object(Y.jsx)(ka.a,{size:"1.1rem",stroke:1.5})}),onChange:function(t){console.log("Selected Date:",t),e(uc(t))},minDate:new Date,w:200})]})]})})})},Na=c(211),Da=c.n(Na);var Ea=function(e){var t=e.setSelectedDate;return Object(Y.jsx)(Sa.a,{popoverProps:{withinPortal:!0},rightSection:Object(Y.jsx)(H.a,{variant:"subtle",children:Object(Y.jsx)(ka.a,{size:"1.1rem",stroke:1.5})}),label:Object(Y.jsx)(K.a,{fw:"light",children:"Date"}),placeholder:Object(Y.jsx)(K.a,{children:"Select Date"}),onChange:function(e){return t(e)},mx:"auto",maw:400})},Pa=c(929),Fa=c(869);var Ia=function(e){var t=e.setSelectedTime,c=e.timeSelected,n=Object(a.useRef)(null),r=Object(Y.jsx)(H.a,{variant:"subtle",color:"gray",onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.showPicker()},children:Object(Y.jsx)(Fa.a,{style:{width:Object(Qe.b)(16),height:Object(Qe.b)(16)},stroke:1.5})});return Object(Y.jsx)(Pa.a,{value:c||"",placeholder:"Select Time",label:Object(Y.jsx)(K.a,{fw:"light",children:"Time"}),ref:n,rightSection:r,onChange:function(e){return t(e.target.value)}})},Aa=c(299),za=c.n(Aa);function Ma(e,t){var c="".concat(za()(e).format("YYYY-MM-DD")," ").concat(t);return za()(c).format("DD-MMM-YYYY | hh:mm A")}var Ta=function(e){var t=e.initialState,c=e.onUpdate,n=e.onApplyForAll,r=Object(x.b)(),s=Object(x.c)((function(e){return e.campaignManagement.eventDate})),i=new Date,o={startDate:i,endDate:null,recurrence:{type:"",recurrenceTime:"",dailyFrequency:1,weeklyDays:[],monthlyDay:"",monthlyFrequency:"",monthlyWeekday:"",customDateTimes:[]}},l=Object(a.useState)(t.startDate||i),j=Object(p.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(t.recurrence?t:o),O=Object(p.a)(b,2),m=O[0],h=O[1];console.log("results",m);var g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=Object(a.useState)(!1),y=Object(p.a)(v,2),w=y[0],S=y[1],k=Object(a.useState)(m.recurrence.customDateTimes||[]),C=Object(p.a)(k,2),N=C[0],D=C[1],E=Object(a.useState)(null),P=Object(p.a)(E,2),F=P[0],I=P[1],A=Object(a.useState)(null),z=Object(p.a)(A,2),M=z[0],T=z[1],R=Object(a.useState)(m.recurrence.recurrenceTime||""),_=Object(p.a)(R,2),L=_[0],K=_[1];Object(a.useEffect)((function(){L&&h((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{recurrence:Object(Z.a)(Object(Z.a)({},e.recurrence),{},{recurrenceTime:L})})}))}),[L]),Object(a.useEffect)((function(){F&&M&&function(){if(F&&M){var e={date:F,time:M};D([].concat(Object(fe.a)(N),[e])),h((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{recurrence:Object(Z.a)(Object(Z.a)({},t.recurrence),{},{customDateTimes:[].concat(Object(fe.a)(t.recurrence.customDateTimes),[e])})})})),I(null),T(null),S(!1)}}()}),[F,M]),Object(a.useEffect)((function(){c(m)}),[m]);var U=function(e,t){h((function(c){return Object(Z.a)(Object(Z.a)({},c),{},Object(f.a)({},e,t))})),"startDate"===e?u(t):"endDate"===e&&r(uc(t))},q=function(e,t){h((function(c){return Object(Z.a)(Object(Z.a)({},c),{},{recurrence:Object(Z.a)(Object(Z.a)({},c.recurrence),{},Object(f.a)({},e,t))})}))},W=function(e,t){q(e,parseInt(t,10))};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(it.a,{mb:10}),Object(Y.jsx)("div",{className:"col-12 col-lg-12",children:Object(Y.jsx)("div",{className:"time-title mb-20",children:Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)("h1",{children:"Timeline"}),Object(Y.jsx)(et.a,{styles:{root:{cursor:"pointer"}},onClick:function(){return n(m)},children:"Apply For All"})]})})}),Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)("div",{className:"col-6 col-lg-6",children:Object(Y.jsxs)("div",{className:"mb-40",children:[Object(Y.jsx)("label",{htmlFor:"startDate",className:"date-inputs-control",children:"Start date"}),Object(Y.jsx)(Da.a,{className:"form-control  inputs-control form-floating date-icon",dateFormat:"yyyy/MM/dd",selected:d,onChange:function(e){return U("startDate",e)},minDate:new Date})]})}),Object(Y.jsx)("div",{className:"col-6 col-lg-6",children:Object(Y.jsxs)("div",{className:"mb-40",children:[Object(Y.jsx)("label",{htmlFor:"endDate",className:"date-inputs-control",children:"End date"}),Object(Y.jsx)(Da.a,{className:"form-control  inputs-control form-floating date-icon",dateFormat:"yyyy/MM/dd",selected:s,onChange:function(e){return U("endDate",e)},minDate:new Date})]})})]}),Object(Y.jsx)("div",{className:"col-12 col-lg-12",children:Object(Y.jsx)("div",{className:"time-title mb-20",children:Object(Y.jsx)("h1",{children:"Recurrence"})})}),Object(Y.jsxs)("div",{className:"row",children:[Object(Y.jsxs)("div",{className:"col-12 col-lg-4",children:[Object(Y.jsx)("div",{className:"mb-25 mt-10",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"recurrence",id:"daily",value:"Daily",checked:"Daily"===m.recurrence.type,onChange:function(e){return q("type",e.target.value)}}),Object(Y.jsx)("label",{className:"form-check-label check-label",htmlFor:"daily",children:"Daily"})]})}),Object(Y.jsx)("div",{className:"mb-25",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"recurrence",id:"weekly",value:"Weekly",checked:"Weekly"===m.recurrence.type,onChange:function(e){return q("type",e.target.value)}}),Object(Y.jsx)("label",{className:"form-check-label check-label",htmlFor:"weekly",children:"Weekly"})]})}),Object(Y.jsx)("div",{className:"mb-25",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"recurrence",id:"monthly",value:"Monthly",checked:"Monthly"===m.recurrence.type,onChange:function(e){return q("type",e.target.value)}}),Object(Y.jsx)("label",{className:"form-check-label check-label",htmlFor:"monthly",children:"Monthly"})]})}),Object(Y.jsx)("div",{className:"mb-25",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"recurrence",id:"custom",value:"Custom",checked:"Custom"===m.recurrence.type,onChange:function(e){return q("type",e.target.value)}}),Object(Y.jsx)("label",{className:"form-check-label check-label",htmlFor:"custom",children:"Custom"})]})})]}),Object(Y.jsxs)("div",{className:"col-12 col-lg-8",children:["Daily"===m.recurrence.type&&Object(Y.jsxs)("div",{className:"col-6 col-lg-3",children:[Object(Y.jsx)("div",{className:"mb-20 mt-10",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu ",type:"radio",name:"dailyOption",id:"everyNDaysOption",value:"EveryNDays",onChange:function(){return q("dailyFrequency","EveryNDays")}}),Object(Y.jsxs)("label",{className:"form-check-label check-label chkinput",htmlFor:"everyNDaysOption",children:["Every ",Object(Y.jsx)("span",{children:Object(Y.jsx)("input",{id:"dailyFrequencyInput",name:"dailyFrequencyInput",type:"number",min:"1",className:"day-no",value:m.recurrence.dailyFrequency,onChange:function(e){return function(e){var t="Everyday"!==e?parseInt(e,10):"Everyday";q("dailyFrequency",t)}(e.target.value)}})}),"day(s)"]})]})}),Object(Y.jsx)("div",{className:"mb-20",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"dailyOption",id:"everydayOption",value:"Everyday",checked:"Everyday"===m.recurrence.dailyFrequency,onChange:function(){return q("dailyFrequency","Everyday")}}),Object(Y.jsx)("label",{className:"form-check-label check-label",htmlFor:"everydayOption",children:"Everyday"})]})})]}),Object(Y.jsx)("div",{className:"row",children:"Weekly"===m.recurrence.type&&g.map((function(e){return Object(Y.jsx)("div",{className:"col-2 col-lg-4",children:Object(Y.jsx)("div",{className:"mb-15 dis-inline web-dis-inline web-mb-0",children:Object(Y.jsxs)("div",{className:"form-check from-mrg-rtl mb-15",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"checkbox",value:e,checked:m.recurrence.weeklyDays.includes(e),onChange:function(){return function(e){var t=m.recurrence.weeklyDays.includes(e)?m.recurrence.weeklyDays.filter((function(t){return t!==e})):[].concat(Object(fe.a)(m.recurrence.weeklyDays),[e]);q("weeklyDays",t)}(e)}}),Object(Y.jsx)("label",{className:"form-check-label check-label",children:e})]})},e)})}))}),"Monthly"===m.recurrence.type&&Object(Y.jsx)("div",{className:"col-6 col-lg-9",children:Object(Y.jsxs)("div",{className:"clearfix",children:[Object(Y.jsx)("div",{className:"mb-25 mt-10",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"monthlyOption",id:"monthlyOption1"}),Object(Y.jsxs)("label",{className:"form-check-label check-label chkinput",children:["Day ",Object(Y.jsx)("input",{type:"number",className:"day-no",onChange:function(e){return W("monthlyDay",e.target.value)}}),"of every ",Object(Y.jsx)("input",{type:"number",className:"day-no",onChange:function(e){return W("monthlyFrequency",e.target.value)}})," month(s)"]})]})}),Object(Y.jsx)("div",{className:"mb-25 mt-10",children:Object(Y.jsxs)("div",{className:"form-check",children:[Object(Y.jsx)("input",{className:"form-check-input check-recu",type:"radio",name:"monthlyOption",id:"monthlyOption2"}),Object(Y.jsxs)("label",{className:"form-check-label check-label chkinput",htmlFor:"monthlyOption2",children:["Day ",Object(Y.jsx)("input",{type:"number",className:"day-no"}),"of every",Object(Y.jsx)("span",{className:"mrg-ltr",children:Object(Y.jsx)("select",{className:"form-select dropday",onChange:function(e){return q("monthlyFrequency",e.target.value)},children:["first","second","third","fourth"].map((function(e){return Object(Y.jsx)("option",{value:e,children:e},e)}))})}),Object(Y.jsx)("span",{className:"mrg-ltr mrg-rtl",children:Object(Y.jsx)("select",{className:"form-select dropday",onChange:function(e){return q("monthlyWeekday",e.target.value)},children:g.map((function(e){return Object(Y.jsx)("option",{value:e,children:e},e)}))})})," of every month(s)"]})]})})]})}),"Custom"!==m.recurrence.type&&("Daily"===m.recurrence.type||"Weekly"===m.recurrence.type||"Monthly"===m.recurrence.type)&&Object(Y.jsx)(yt.a,{w:100,children:Object(Y.jsx)(Ia,{setSelectedTime:K,timeSelected:L})}),"Custom"===m.recurrence.type&&Object(Y.jsx)("div",{children:Object(Y.jsxs)(B.a,{wrap:"wrap",children:[Object(Y.jsx)(B.a,{mr:5,wrap:"wrap",children:N.map((function(e,t){return Object(Y.jsx)(et.a,{rightSection:Object(Y.jsx)(H.a,{size:"xs",color:"blue",radius:"xl",variant:"transparent",onClick:function(){return function(e){var t=N.filter((function(t,c){return c!==e}));D(t),h((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{recurrence:Object(Z.a)(Object(Z.a)({},e.recurrence),{},{customDateTimes:t})})}))}(t)},children:Object(Y.jsx)(kt.a,{size:Object(Qe.b)(10)})}),size:"lg",mr:5,mb:5,children:Ma(e.date,e.time)},t)}))}),Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(et.a,{bg:"white",c:"gray",styles:{root:{borderWidth:"1px",borderColor:"gray"}},leftSection:Object(Y.jsx)(H.a,{size:Object(Qe.b)(20),children:Object(Y.jsx)(Dt.a,{})}),rightSection:Object(Y.jsx)(H.a,{children:Object(Y.jsx)(ga.a,{})}),onClick:function(){return S(!w)},children:"Add More"}),w&&Object(Y.jsx)(yt.a,{children:Object(Y.jsxs)(yt.a,{shadow:"lg",w:200,children:[Object(Y.jsx)(Ea,{setSelectedDate:I}),Object(Y.jsx)(Ia,{setSelectedTime:T,timeSelected:M})]})})]})]})})]})]})]})},Ra=function(){var e,t=Object(x.b)(),c=Object(x.c)((function(e){return e.campaignManagement.activeTab})),a=Object(x.c)((function(e){return e.campaignManagement.tabData})),n=function(){var e=Object(y.a)(v.a.mark((function e(n){var r,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.target.files[0])||"text/plain"!==r.type){e.next=9;break}return e.next=4,r.text();case 4:s=e.sent,i=Object(Z.a)(Object(Z.a)({},a),{},Object(f.a)({},c,Object(Z.a)(Object(Z.a)({},a[c]),{},{content:s,file:r,fileName:r.name}))),t(mc(i)),e.next=10;break;case 9:alert("Please select a valid .txt file");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)("div",{className:"mb-15",children:[(null===(e=a[c])||void 0===e?void 0:e.fileName)&&Object(Y.jsx)(K.a,{variant:"text",fw:"bold",fz:"xs",children:a[c].fileName}),Object(Y.jsx)("input",{type:"file",accept:".txt",onChange:n})]})},_a=c(909),Ba=c(885),La=c(231),Ka=c(437),Ha=c(460),Ua=c(438),qa=c(439),Wa=c(440),Ga=c(441),Ya=c(216),Ja=c.n(Ya),Va=function(e){var t=e.initialContent,c=e.onChange,n=e.readOnly,r=Object(La.b)({extensions:[Ha.a,Ua.a,_a.a,Wa.a,Ga.a,Ka.a,qa.a.configure({types:["heading","paragraph"]})],content:t.content,onUpdate:function(e){var t=e.editor;c(t.getHTML())}});return Object(a.useEffect)((function(){var e=Ja.a.sanitize(t.content);null===r||void 0===r||r.commands.insertContent(e),console.log("Effect")}),[t.file]),Object(Y.jsxs)(Ba.a,{editor:r,readOnly:n,styles:{root:{border:"none",position:"relative"},control:{backgroundColor:"transparent",border:"none"},controlsGroup:{position:"relative"},content:{backgroundColor:"transparent",overflow:"auto",maxHeight:"210px"},toolbar:{backgroundColor:"transparent"}},children:[Object(Y.jsxs)(Ba.a.Toolbar,{sticky:!0,stickyOffset:60,children:[Object(Y.jsxs)(Ba.a.ControlsGroup,{children:[Object(Y.jsx)(Ba.a.Bold,{}),Object(Y.jsx)(Ba.a.Italic,{}),Object(Y.jsx)(Ba.a.Underline,{}),Object(Y.jsx)(Ba.a.Strikethrough,{}),Object(Y.jsx)(Ba.a.ClearFormatting,{}),Object(Y.jsx)(Ba.a.Highlight,{}),Object(Y.jsx)(Ba.a.Code,{})]}),Object(Y.jsxs)(Ba.a.ControlsGroup,{children:[Object(Y.jsx)(Ba.a.H1,{}),Object(Y.jsx)(Ba.a.H2,{}),Object(Y.jsx)(Ba.a.H3,{}),Object(Y.jsx)(Ba.a.H4,{})]}),Object(Y.jsxs)(Ba.a.ControlsGroup,{children:[Object(Y.jsx)(Ba.a.Blockquote,{}),Object(Y.jsx)(Ba.a.Hr,{}),Object(Y.jsx)(Ba.a.BulletList,{}),Object(Y.jsx)(Ba.a.OrderedList,{}),Object(Y.jsx)(Ba.a.Subscript,{}),Object(Y.jsx)(Ba.a.Superscript,{})]}),Object(Y.jsxs)(Ba.a.ControlsGroup,{children:[Object(Y.jsx)(Ba.a.Link,{}),Object(Y.jsx)(Ba.a.Unlink,{})]}),Object(Y.jsxs)(Ba.a.ControlsGroup,{children:[Object(Y.jsx)(Ba.a.AlignLeft,{}),Object(Y.jsx)(Ba.a.AlignCenter,{}),Object(Y.jsx)(Ba.a.AlignJustify,{}),Object(Y.jsx)(Ba.a.AlignRight,{})]})]}),Object(Y.jsx)(Ba.a.Content,{})]})},Za=(c(316),c(554),c(870)),Qa=c(871),$a=c(872),Xa=function(e){e.previewStyles;var t=e.sanitizedContent;return console.log("Sanitized",t),Object(Y.jsxs)("div",{className:"europ-assistance",children:[Object(Y.jsxs)("div",{className:"frame",children:[Object(Y.jsx)("div",{className:"be-a-part-of-IPL-wrapper",children:Object(Y.jsx)("p",{className:"be-a-part-of-IPL",dangerouslySetInnerHTML:{__html:t}})}),Object(Y.jsx)("div",{className:"group",children:Object(Y.jsx)("div",{className:"overlap-group",children:Object(Y.jsx)("div",{className:"div",children:"Book now"})})})]}),Object(Y.jsxs)("div",{className:"overlap",children:[Object(Y.jsx)("div",{className:"text-wrapper-2",children:"Europ Assistance India"}),Object(Y.jsx)(H.a,{size:Object(Qe.b)(13),mt:17,c:"white",children:Object(Y.jsx)(Za.a,{})}),Object(Y.jsx)("div",{className:"img-wrapper",children:Object(Y.jsx)("img",{className:"img",alt:"Img",src:Pc})}),Object(Y.jsx)("div",{className:"div-wrapper",children:Object(Y.jsx)("div",{className:"text-wrapper-3",children:"7:01 PM"})}),Object(Y.jsxs)("div",{className:"group-2",children:[Object(Y.jsxs)(B.a,{ml:10,mt:-1,children:[Object(Y.jsx)(H.a,{size:Object(Qe.b)(13),c:"white",children:Object(Y.jsx)(Qa.a,{})}),Object(Y.jsx)(H.a,{size:Object(Qe.b)(13),c:"white",children:Object(Y.jsx)($a.a,{})})]}),Object(Y.jsxs)("div",{className:"three-dots",children:[Object(Y.jsx)("div",{className:"ellipse"}),Object(Y.jsx)("div",{className:"ellipse-2"}),Object(Y.jsx)("div",{className:"ellipse-3"})]})]})]}),Object(Y.jsxs)("div",{className:"group-3",children:[Object(Y.jsx)("div",{className:"overlap-2",children:Object(Y.jsx)("div",{className:"text-wrapper-4",children:"Type a message"})}),Object(Y.jsx)("div",{className:"imagevector-wrapper"})]})]})},en=function(e){var t=e.content,c=e.tab,a=Ja.a.sanitize(t),n={overflow:"auto",maxHeight:"100%"};switch(c){case"Email":case"SMS":case"Notification":return Object(Y.jsx)("div",{style:n,dangerouslySetInnerHTML:{__html:a}});case"Whatsapp":return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(yt.a,{style:n,children:Object(Y.jsx)(_.a,{children:Object(Y.jsx)("div",{style:{zoom:"200%"},children:Object(Y.jsx)(Xa,{previewStyles:n,sanitizedContent:a})})})})});default:return null}},tn=function(){var e,t=Object(x.b)(),c=Object(x.c)((function(e){return e.campaignManagement.activeTab})),n=Object(x.c)((function(e){return e.campaignManagement.tabData})),r=Object(a.useState)(!1),s=Object(p.a)(r,2),i=s[0],o=s[1],l=function(){o(!0)},j=function(){o(!1)},d=function(e){var a=Object(Z.a)(Object(Z.a)({},n),{},Object(f.a)({},c,Object(Z.a)(Object(Z.a)({},n[c]),{},{content:e,characterCount:e.length})));t(mc(a))};return Object(Y.jsxs)(Y.Fragment,{children:[i&&Object(Y.jsx)("div",{className:"overlay"}),Object(Y.jsx)("div",{className:"modal-body modal-pad",children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"row",children:[Object(Y.jsx)("div",{className:"col-md-2",children:Object(Y.jsx)("div",{className:"dis-block nav-pills me-3",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:["Email","SMS","Notification","Whatsapp"].map((function(e){return i?Object(Y.jsx)(yt.a,{ml:-15,children:Object(Y.jsx)(se.a,{className:"preview-container",onClick:function(){return t(Oc(e))},c:c===e?"#524EE1":"white",bg:c===e?"white":"#524EE1",sx:{"&:hover":{backgroundColor:"white",color:"#524EE1"}},size:"lg",fullWidth:!0,style:{marginBottom:"10px"},children:Object(Y.jsx)(K.a,{size:"xs",children:e})},e)}):Object(Y.jsx)("button",{className:"nav-link d-block mb-2 ".concat(i&&c!==e?"tab-preview-container":"preview-container"," ").concat(c===e?"active":""),onClick:function(){return t(Oc(e))},children:e},e)}))})}),Object(Y.jsx)("div",{className:"col-md-10",children:Object(Y.jsx)("div",{className:"preview-container tab-content tab-content-bg",children:["Email","SMS","Notification","Whatsapp"].map((function(e){var t;return Object(Y.jsxs)("div",{className:" tab-pane fade ".concat(c===e?"show active":""),id:"v-pills-".concat(e),role:"tabpanel",children:[Object(Y.jsx)(yt.a,{children:i?Object(Y.jsx)(yt.a,{h:250,children:Object(Y.jsx)(en,{content:null===(t=n[e])||void 0===t?void 0:t.content,tab:e})}):Object(Y.jsx)(yt.a,{h:290,mt:-40,children:Object(Y.jsx)(Va,{initialContent:n[e],onChange:d},c)})}),Object(Y.jsxs)(B.a,{direction:"row-reverse",mt:20,children:[Object(Y.jsxs)("div",{className:"character-count",children:[n[c].characterCount,"/",n[c].charLimit]}),!i&&Object(Y.jsx)(yt.a,{ml:5,children:n[c].characterCount>n[c].charLimit&&Object(Y.jsx)("div",{className:"character-limit-error",children:"Character limit exceeded!"})})]}),Object(Y.jsx)(yt.a,{mt:"-4%",children:i?Object(Y.jsx)(se.a,{bg:"#524EE1",sx:{"&:hover":{backgroundColor:"white",color:"#524EE1"}},onClick:j,children:"OK"}):Object(Y.jsx)(se.a,{bg:"#524EE1",sx:{"&:hover":{backgroundColor:"white",color:"#524EE1"}},onClick:l,children:"Preview"})})]},e)}))})})]}),Object(Y.jsx)(yt.a,{className:"".concat(i?"":"tab-preview-container"),children:!i&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(B.a,{direction:"row-reverse",mr:-100,mt:-20,children:Object(Y.jsx)(Ra,{},c)}),Object(Y.jsx)(Ta,{onUpdate:function(e){var a=Object(Z.a)(Object(Z.a)({},n),{},Object(f.a)({},c,Object(Z.a)(Object(Z.a)({},n[c]),{},{timelineState:e})));console.log("updatedTabData",mc),t(mc(a))},onApplyForAll:function(e){var c=Object(Z.a)({},n);["Email","SMS","Notification","Whatsapp"].forEach((function(t){c[t]=Object(Z.a)(Object(Z.a)({},n[t]),{},{timelineState:e})})),t(mc(c)),Object(Yc.b)({type:"default",title:"Timelines applied",message:"Timelines have been added for all modes"})},initialState:(null===(e=n[c])||void 0===e?void 0:e.timelineState)||{}},c)]})})]})})]})},cn=(c(555),function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.campaignManagement})),c=t.isModalOpen,n=t.eventName,r=t.step,s=Object(x.c)((function(e){return e.campaignManagement})),i=Object(a.useState)(!1),o=Object(p.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(!1),u=Object(p.a)(d,2),b=u[0],O=u[1];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(dt.a,{opened:c,withCloseButton:!1,closeOnClickOutside:!1,size:"xl",styles:{content:{overflow:"visible"}},children:[Object(Y.jsxs)("div",{className:"modal-header modal-header-wrap",children:[Object(Y.jsxs)("div",{className:"modeltitle",children:[Object(Y.jsx)("h1",{children:1===r?"Create a new Campaign":"Preview Campaign"}),Object(Y.jsxs)("h2",{children:["Step: ",r,"/2"]}),2===r&&Object(Y.jsx)(Za.a,{cursor:"pointer",onClick:function(){return e(bc(1))}})]}),Object(Y.jsx)("button",{type:"button",className:"btn-close",onClick:function(){Object(Yc.b)({type:"default",title:"Campaign ".concat(s.eventName," has been Cancelled"),message:"Click Run campaign to run the campaign again"}),e(ic(!1))},"aria-label":"Close"})]}),Object(Y.jsx)("div",{children:1===r?Object(Y.jsx)(Ca,{eventName:n,setEventName:function(t){return e(dc(t))}}):Object(Y.jsx)("div",{children:Object(Y.jsx)(tn,{})})}),Object(Y.jsx)("div",{children:1===r?Object(Y.jsx)(_.a,{children:Object(Y.jsx)(se.a,{bg:"#524EE1",sx:{"&:hover":{backgroundColor:"white",color:"#524EE1"}},onClick:function(){n.trim()?e(bc(2)):Object(Yc.b)({type:"warning",title:"Please provide an event name",message:"Event name is required to proceed."})},children:"Next"})}):Object(Y.jsx)(_.a,{children:Object(Y.jsx)(se.a,{bg:"#524EE1",sx:{"&:hover":{backgroundColor:"white",color:"#524EE1"}},onClick:function(){j(!0)},children:"Publish"})})})]}),Object(Y.jsxs)(dt.a,{opened:l,withCloseButton:!0,onClose:function(){return j(!1)},title:"Confirm Campaign Publish",size:"md",children:[Object(Y.jsx)("p",{children:"Are you sure you want to publish this campaign?"}),Object(Y.jsxs)(_.a,{children:[Object(Y.jsx)(se.a,{bg:"#524EE1",sx:{marginRight:"10px","&:hover":{backgroundColor:"white",color:"#524EE1"}},onClick:function(){O(!0),e(ac()).then((function(t){ac.fulfilled.match(t)?(Object(Yc.b)({type:"default",title:"Campaign Published",message:"The campaign has been published successfully",color:"green"}),e(ic(!1))):(Object(Yc.b)({type:"error",title:"Campaign Failed",message:t.error.message,color:"red"}),O(!1))}))},disabled:b,children:b?"Publishing...":"Yes, Publish"}),Object(Y.jsx)(se.a,{variant:"outline",onClick:function(){return j(!1)},children:"No, Go back"})]})]})]})}),an=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.campaignManagement.downloadDataStatus})),c=Object(x.c)((function(e){return e.campaignManagement.isModalOpen})),a=Object(x.c)((function(e){return e.campaignManagement.allCustomerIDs}));return Object(Y.jsxs)("div",{className:"row web-pt-0 pt-5 web-mb-25",children:[Object(Y.jsx)("div",{className:"col-12 col-lg-6 web-mb-20",children:Object(Y.jsx)("button",{type:"button",className:"btn datebtn",onClick:function(){e(tc()),"loading"===t?Object(Yc.b)({title:"Fetching Datasets",message:"Please wait while the data is being fetched",color:"blue"}):"success"===t?Object(Yc.b)({title:"Success!",message:"Data fetched successfully!",color:"green"}):"failed"===t&&Object(Yc.b)({title:"Error!",message:"Failed to fetch data. Please try again.",color:"red"})},children:"Download Data"})}),Object(Y.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(Y.jsx)("button",{type:"button",className:"btn runcamp",onClick:function(){0!==a.length?(e(ic(!0)),e(hc()),Object(Yc.b)({title:"Success!",message:"Campaign initiated against customers in pool.",color:"green"})):Object(Yc.b)({title:"Error!",message:"No customers have been selected. Please ensure atleast one customer",color:"red"})},children:"Run Campaign"}),c&&Object(Y.jsx)(cn,{isOpen:c,closeModal:function(){return ic(!1)}})]})]})},nn=(c(556),c(557),c(558),c(559),c(560),c(561),c(928)),rn=c(873),sn=c(874),on=c(225),ln=c(451),jn=function(){var e=Object(x.c)(pc).map((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{subject:"".concat(e.subject," \n ").concat(e.count)})})),t=function(e){var t=e.x,c=e.y,a=e.payload.value.split("\n");return Object(Y.jsx)("g",{transform:"translate(".concat(t,",").concat(c,")"),children:a.map((function(e,t){return Object(Y.jsx)("text",{x:0,y:5*t,dy:0===t?-5:5,textAnchor:"middle",fill:"#666",children:e},t)}))})};return Object(Y.jsx)(nn.a,{width:"100%",height:"100%",children:Object(Y.jsxs)(rn.a,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,children:[Object(Y.jsx)(sn.a,{}),Object(Y.jsx)(on.a,{dataKey:"subject",tick:Object(Y.jsx)(t,{})}),Object(Y.jsx)(ln.a,{name:"Customer Campaign",dataKey:"count",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})},dn=function(){Object(x.b)();var e=Object(x.c)(pc),t=Object(x.c)((function(e){return e.campaignManagement.allCustomerIDs}));e.reduce((function(e,t){return e+t.count}),0);return Object(Y.jsx)("div",{className:"col-12 col-lg-4",children:Object(Y.jsxs)("div",{className:"dem-grapic clearfix",children:[Object(Y.jsx)("div",{className:"dem-title mb-4",children:Object(Y.jsx)("h1",{children:"Total Demographic"})}),Object(Y.jsx)("div",{className:"fullwidth mb-2 mt-5",children:Object(Y.jsx)(jn,{})}),Object(Y.jsxs)("div",{className:"row mt-2",children:[Object(Y.jsxs)("div",{className:"col-12 col-lg-12 text-center mb-2",children:[Object(Y.jsx)("span",{className:"total-numb pe-2"}),Object(Y.jsxs)("span",{className:"total-users",children:[t.length," Users matching your criteria"]})]}),Object(Y.jsx)(an,{})]})]})})},un=c(875),bn=c(876),On=c(455),mn=c(456),hn=c(178),pn=c(173),xn=c(220),fn=c(149),gn=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.campaign.data})),c=Object(x.c)((function(e){return e.campaign.sources})),n=Object(x.c)((function(e){return e.campaign.campaignNames})),r=Object(x.c)((function(e){return e.campaign.status}));Object(x.c)((function(e){return e.campaign.error}));return Object(a.useEffect)((function(){"idle"===r&&(e(fc()),e(gc()),e(vc()))}),[r,e]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(yt.a,{p:30,h:500,w:"100%",children:[Object(Y.jsx)(T.a,{c:"#4e70ea",children:"Other Campaign Comparison"}),Object(Y.jsx)(yt.a,{children:Object(Y.jsxs)(B.a,{children:[Object(Y.jsx)(ca.a,{maw:320,mx:"auto",label:Object(Y.jsx)(K.a,{c:"dimmed",children:"Campaign(s)"}),data:["All"].concat(Object(fe.a)(n)),transitionProps:{transition:"pop-top-left",duration:80,timingFunction:"ease"},withinPortal:!0,rightSection:Object(Y.jsx)(H.a,{children:Object(Y.jsx)(ga.a,{})})}),Object(Y.jsx)(ca.a,{maw:320,mx:"auto",label:Object(Y.jsx)(K.a,{c:"dimmed",children:"Source(s)"}),data:c,transitionProps:{transition:"pop-top-left",duration:80,timingFunction:"ease"},withinPortal:!0,rightSection:Object(Y.jsx)(H.a,{children:Object(Y.jsx)(ga.a,{})})})]})}),Object(Y.jsx)(nn.a,{width:"100%",height:"100%",children:Object(Y.jsxs)(un.a,{width:500,height:300,data:t,margin:{top:20,right:30,left:20,bottom:5},maxBarSize:60,children:[Object(Y.jsx)(bn.a,{strokeLinecap:"3",horizontalCoordinatesGenerator:function(e){return e.height>250?[75,150,225]:[100,200]},vertical:!1}),Object(Y.jsx)(On.a,{dataKey:"name"}),Object(Y.jsx)(mn.a,{label:{value:"No. of Customers",angle:-90,position:"insideLeft",offset:-4}}),Object(Y.jsx)(hn.a,{}),Object(Y.jsx)(pn.a,{iconType:"circle",verticalAlign:"top",align:"right",offset:-10}),Object(Y.jsx)(xn.a,{dataKey:"contactability",stackId:"a",fill:"#8334f8"}),Object(Y.jsx)(xn.a,{dataKey:"interested",stackId:"a",fill:"#883538"}),Object(Y.jsx)(xn.a,{dataKey:"converted",stackId:"a",fill:"#8884d8"}),Object(Y.jsx)(xn.a,{dataKey:"over",stackId:"a",fill:"#82ca9d",children:Object(Y.jsx)(fn.a,{position:"top"})})]})})]})})},vn=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.campaignManagement})),c=(t.isModalOpen,t.dropdownData),n=t.rows,r=t.selectedCombinations;Object(a.useEffect)((function(){e(ut())}),[e]);var s=Object(x.c)((function(e){return e.keyword.keywords}));console.log(s,s);var i=Object(x.c)((function(e){return e.keyword.keywordsStatus}));"loading"===i&&console.log("loading..."),"failed"===i&&console.log("Error getting keywords"),Object(a.useEffect)((function(){if("success"===i){var t=Object(Z.a)({},c.Interests);s.forEach((function(e){var c=t[e.category]?[].concat(Object(fe.a)(t[e.category]),[{label:e.value,value:e.id}]):[{label:e.value,value:e.id}];t=Object(Z.a)(Object(Z.a)({},t),{},Object(f.a)({},e.category,c))}));var a=Object(Z.a)(Object(Z.a)({},c),{},{Interests:t});e(oc(a))}}),[i,s]);var o=function(t,a,s){var i=Object(Z.a)({},n);i[t]=Object(Z.a)(Object(Z.a)({},i[t]),{},Object(f.a)({},a,s));var o=Object(fe.a)(r);if("first"===a)i[t].second="",i[t].third="";else if("second"===a)i[t].third="";else if("third"===a){var l;l="Interests"===i[t].first?c[i[t].first][i[t].second].find((function(e){return e.value===s})):s,(o=o.filter((function(e){return e.rowId!==t}))).push({rowId:t,first:i[t].first,second:i[t].second,third:l})}e(lc(i)),e(jc(o))},l=function(t){var c=Object(Z.a)({},n);delete c[t];var a=r.filter((function(e){return e.rowId!==t}));e(lc(c)),e(jc(a))};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"col-xs-12 col-lg-12",children:Object(Y.jsx)("div",{className:"chart-bx mb-5",children:Object(Y.jsxs)("div",{className:"row",children:[Object(Y.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(Y.jsx)("div",{className:"col-12 col-lg-12 mb-3",children:Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)("div",{className:"bx-title mb-2 dis-inline",children:Object(Y.jsx)("h1",{children:"Customer Profile Analysis"})}),Object(Y.jsx)("div",{className:"pl-90",children:Object(Y.jsxs)(Oe.a,{onClick:function(){var t=Object(f.a)({},Date.now().toString(),{first:"",second:"",third:""});e(lc(Object(Z.a)(Object(Z.a)({},n),t)))},style:{cursor:"pointer"},children:[Object(Y.jsx)(H.a,{color:"blue",variant:"subtle",size:"sm",children:Object(Y.jsx)(Dt.a,{color:"#4E70EA"})}),Object(Y.jsx)(K.a,{ml:-18,color:"#4E70EA",size:"sm",children:"Add More"})]})})]})}),Object(Y.jsxs)("div",{className:"row",style:{maxHeight:"250px",overflowY:"scroll"},children:[Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"select-title mb-3",children:Object(Y.jsx)("h1",{children:"Select Information Type"})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"select-title mb-3",children:Object(Y.jsx)("h1",{children:"Select Category"})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-3",children:Object(Y.jsx)("div",{className:"select-title mb-3",children:Object(Y.jsx)("h1",{children:"Select Sub-category"})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-1",children:Object(Y.jsx)("div",{className:"select-title mb-3",children:Object(Y.jsx)("h1",{children:"Delete"})})}),Object(Y.jsx)("div",{className:"col-12 col-lg-2",children:Object(Y.jsx)("div",{className:"select-title mb-3",children:Object(Y.jsx)("h1",{children:"Figures"})})}),Object.entries(n).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return Object(Y.jsx)(wa,{row:n,rowId:a,handleDropdownChange:o,dropdownData:c,selectedCombinations:r,deleteRow:l},a)}))]})]}),Object(Y.jsx)(dn,{})]})})}),Object(Y.jsx)(yt.a,{h:1e3,w:"100%",children:Object(Y.jsx)(gn,{})})]})},yn=c(890),wn=function(e){var t=e.children;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ve.a,{height:{base:50,md:70},p:"md",withBorder:!1,m:"md",children:Object(Y.jsxs)("div",{style:{display:"flex",alignItems:"center",height:"100%",justifyContent:"space-between"},children:[Object(Y.jsx)($e.a,{radius:"xl",src:ra}),Object(Y.jsx)(B.a,{justify:"space-between",children:Object(Y.jsxs)(_.a,{children:[Object(Y.jsx)(J,{}),Object(Y.jsx)($e.a,{ml:10,radius:"xl",src:null,alt:"no image here",color:"indigo"})]})})]})}),Object(Y.jsxs)("div",{style:{display:"flex"},children:[Object(Y.jsx)("span",{children:Object(Y.jsxs)(He.a,{width:{base:50},height:500,p:"xs",withBorder:!1,children:[Object(Y.jsx)(st.a,{h:5}),Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(he.b,{to:"/acl",children:Object(Y.jsx)(H.a,{variant:"subtle",c:"cyan",children:Object(Y.jsx)(Zc.a,{size:"1rem"})})}),Object(Y.jsx)(he.b,{to:"/campaign",children:Object(Y.jsx)(H.a,{variant:"subtle",c:"cyan",children:Object(Y.jsx)(Qc.a,{size:"1rem"})})}),Object(Y.jsx)(he.b,{to:"/customers",children:Object(Y.jsx)(H.a,{variant:"subtle",c:"cyan",children:Object(Y.jsx)($c.a,{size:"1rem"})})}),Object(Y.jsx)(he.b,{to:"/",children:Object(Y.jsx)(H.a,{variant:"subtle",c:"cyan",children:Object(Y.jsx)(Xc.a,{size:"1rem"})})}),Object(Y.jsx)(H.a,{variant:"subtle",c:"cyan",children:Object(Y.jsx)(ea.a,{size:"1rem"})}),Object(Y.jsx)(H.a,{variant:"gradient",gradient:{from:"black",to:"indigo"},children:Object(Y.jsx)(ta.a,{size:"1rem"})})]})]})}),Object(Y.jsx)("span",{style:{flexGrow:"1",width:"100px"},children:Object(Y.jsxs)("div",{style:{padding:"10px"},children:[Object(Y.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",marginTop:"5px"}}),t]})})]})]})},Sn=c(908),kn=c(883),Cn=c(877),Nn=c(457),Dn=c(223),En=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],Pn=["red","#00C49F","#FFBB28","green"],Fn=(Math.PI,function(){return Object(Y.jsx)(yt.a,{h:300,w:300,children:Object(Y.jsx)(nn.a,{width:"100%",height:"100%",children:Object(Y.jsx)(Cn.a,{width:400,height:400,children:Object(Y.jsx)(Nn.a,{data:En,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:En.map((function(e,t){return Object(Y.jsx)(Dn.a,{fill:Pn[t%Pn.length]},"cell-".concat(t))}))})})})})}),In=(c(77),function(){return Object(Y.jsx)(_.a,{children:Object(Y.jsx)(yt.a,{h:400,w:800,p:20,children:Object(Y.jsx)(nn.a,{height:"100%",width:"100%",children:Object(Y.jsxs)(un.a,{layout:"vertical",data:[{name:"SMS",Contactability:250,Interested:120,Converted:75,Over:55},{name:"Email",Contactability:180,Interested:90,Converted:40,Over:20},{name:"Notification",Contactability:230,Interested:110,Converted:50,Over:30},{name:"Whatsapp",Contactability:275,Interested:135,Converted:85,Over:60}],children:[Object(Y.jsx)(On.a,{label:{value:"Campaigns",offset:0},type:"number",height:55}),Object(Y.jsx)(mn.a,{label:{value:"Communication Formats",angle:-90,position:"left",offset:"-15"},type:"category",dataKey:"name",width:150}),Object(Y.jsx)(hn.a,{}),Object(Y.jsx)(pn.a,{iconType:"circle",verticalAlign:"top",align:"right",offset:-10}),Object(Y.jsx)(xn.a,{dataKey:"Contactability",fill:"#82ca9d",stackId:"a"}),Object(Y.jsx)(xn.a,{dataKey:"Interested",fill:"#8884d8",stackId:"a"}),Object(Y.jsx)(xn.a,{dataKey:"Converted",fill:"#883538",stackId:"a"}),Object(Y.jsx)(xn.a,{dataKey:"Over",fill:"#8334f8",stackId:"a",children:Object(Y.jsx)(fn.a,{position:"right"})})]})})})})}),An=c(878),zn=c(879),Mn=c(880),Tn=c(881),Rn=c(882),_n=[{color:"green",text:"No. of Clicks",percentage:"85%",icon:An.a},{color:"orange",text:"No. of Bookings",percentage:"70%",icon:ka.a},{color:"purple",text:"No. of Payments",percentage:"85%",icon:zn.a},{color:"pink",text:"Conversion Rate",percentage:"91%",icon:Mn.a},{color:"yellow",text:"No. of Views",percentage:"70%",icon:Tn.a},{color:"teal",text:"No. of Searchs",percentage:"70%",icon:Se.a},{color:"blue",text:"No. of Sessions",percentage:"63%",icon:Fa.a},{color:"teal",text:"Bounce Rate",percentage:"13%",icon:Rn.a}],Bn=function(){return Object(Y.jsx)(Y.Fragment,{children:_n.map((function(e,t){return Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(ie.a,{bg:"#F1F5F9",radius:"md",shadow:"md",children:Object(Y.jsx)(_.a,{children:Object(Y.jsx)(B.a,{children:Object(Y.jsxs)(Oe.a,{children:[Object(Y.jsx)(H.a,{size:Object(Qe.b)(70),c:e.color,children:Object(Y.jsx)(e.icon,{size:Object(Qe.b)(70)})}),Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(K.a,{children:e.text}),Object(Y.jsx)(_.a,{children:Object(Y.jsx)(K.a,{c:e.color,children:e.percentage})})]})]})})})})},t)}))})},Ln=function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(T.a,{children:"Campaign"}),Object(Y.jsxs)(ie.a,{shadow:"lg",radius:"lg",children:[Object(Y.jsxs)(B.a,{c:"blue",justify:"space-between",children:[Object(Y.jsx)(K.a,{fw:"bold",children:"General"}),Object(Y.jsxs)(_.a,{children:[Object(Y.jsx)(H.a,{c:"blue",children:Object(Y.jsx)(kn.a,{})}),Object(Y.jsx)(K.a,{fw:"bold",children:"Export"})]})]}),Object(Y.jsx)(Sn.a,{cols:4,children:Object(Y.jsx)(Bn,{})})]}),Object(Y.jsxs)(Ye.a,{grow:!0,children:[Object(Y.jsx)(Ye.a.Col,{span:1,children:Object(Y.jsx)(ie.a,{shadow:"lg",radius:"lg",h:"100%",children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsxs)(B.a,{c:"blue",justify:"space-between",children:[Object(Y.jsx)(K.a,{fw:"bold",children:"Overview"}),Object(Y.jsxs)(_.a,{children:[Object(Y.jsx)(H.a,{c:"blue",children:Object(Y.jsx)(kn.a,{})}),Object(Y.jsx)(K.a,{fw:"bold",children:"Export"})]})]}),Object(Y.jsxs)(Oe.a,{children:[Object(Y.jsx)(yt.a,{children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsx)(ca.a,{label:Object(Y.jsx)(K.a,{c:"dimmed",children:"Source(s)"}),placeholder:"All",rightSection:Object(Y.jsx)(ga.a,{size:"1rem"}),rightSectionWidth:30,styles:{rightSection:{pointerEvents:"none"}},data:["All","Homecare","E-Portal 2.0","EZ-Auto","Cyberior"]}),Object(Y.jsx)(ie.a,{withBorder:!0,children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsxs)(Oe.a,{spacing:"xs",children:[Object(Y.jsx)(T.a,{size:"md",children:"Total"}),Object(Y.jsx)(T.a,{size:"md",c:"blue",children:"16,954"})]}),Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)(K.a,{c:"red",fw:"bold",children:"\u2022 SMS"}),Object(Y.jsx)(K.a,{children:"1244"})]}),Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)(K.a,{c:"yellow",fw:"bold",children:"\u2022 Email"}),Object(Y.jsx)(K.a,{children:"242"})]}),Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)(K.a,{c:"blue",fw:"bold",children:"\u2022 Notification"}),Object(Y.jsx)(K.a,{children:"2345"})]}),Object(Y.jsxs)(B.a,{justify:"space-between",children:[Object(Y.jsx)(K.a,{c:"green",fw:"bold",children:"\u2022 Whatsapp"}),Object(Y.jsx)(K.a,{children:"13123"})]})]})})]})}),Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(Fn,{})})]})]})})}),Object(Y.jsx)(Ye.a.Col,{span:3,children:Object(Y.jsx)(ie.a,{shadow:"lg",radius:"lg",children:Object(Y.jsxs)(Ue.a,{children:[Object(Y.jsxs)(B.a,{c:"blue",justify:"space-between",children:[Object(Y.jsx)(K.a,{fw:"bold",children:"Communication Formats"}),Object(Y.jsxs)(_.a,{children:[Object(Y.jsx)(H.a,{c:"blue",children:Object(Y.jsx)(kn.a,{})}),Object(Y.jsx)(K.a,{fw:"bold",children:"Export"})]})]}),Object(Y.jsx)(yt.a,{children:Object(Y.jsx)(In,{})})]})})})]})]})})};var Kn=function(){var e=Object(a.useState)("light"),t=Object(p.a)(e,2),c=t[0],n=t[1],r=(Object(x.b)(),Object(x.c)((function(e){return e.auth})).isLoggedIn),s=Object(x.c)((function(e){return e.rolePermission})),i=(s.rolesPermissionsStatus,s.rolesPermissions,s.userPermissions);function l(e,t){return e.some((function(e){return e.name===t}))}return"success"===s.getAllRolesPermissionsMappingsByUserStatus&&console.log(i),Object(a.useEffect)((function(){if("login"in localStorage){var e=JSON.parse(localStorage.getItem("login"));o.a.defaults.headers.common.authorization="Bearer ".concat(e.token)}}),[r]),Object(z.h)(),Object(Y.jsx)(I.a,{colorScheme:c,toggleColorScheme:function(e){return n(e||("dark"===c?"light":"dark"))},children:Object(Y.jsxs)(A.a,{theme:{colorScheme:c},withGlobalStyles:!0,withNormalizeCSS:!0,children:[Object(Y.jsx)(yn.a,{}),Object(Y.jsxs)(z.d,{children:[Object(Y.jsx)(z.b,{path:"/login",element:Object(Y.jsx)(Fc,{})}),Object(Y.jsx)(z.b,{path:"/register",element:Object(Y.jsx)(pe,{})}),Object(Y.jsx)(wn,{children:Object(Y.jsxs)(z.d,{children:[l(i,"user view")?Object(Y.jsx)(kc,{path:"/",element:Object(Y.jsx)(Ln,{})}):Object(Y.jsx)(kc,{path:"/",element:Object(Y.jsx)(fa,{})}),l(i,"user view")?Object(Y.jsx)(kc,{path:"/customers",element:Object(Y.jsx)(de,{})}):Object(Y.jsx)(kc,{path:"/customers",element:Object(Y.jsx)(fa,{})}),Object(Y.jsx)(z.b,{path:"/campaign",element:Object(Y.jsx)(vn,{})}),l(i,"customer dashboard")?Object(Y.jsx)(kc,{path:"/dashboard/*",element:Object(Y.jsx)(Ht,{})}):Object(Y.jsx)(kc,{path:"/dashboard/*",element:Object(Y.jsx)(fa,{})}),l(i,"acl")?Object(Y.jsx)(kc,{path:"/acl/*",element:Object(Y.jsx)(xa,{})}):Object(Y.jsx)(kc,{path:"/acl/*",element:Object(Y.jsx)(fa,{})}),Object(Y.jsx)(z.b,{path:"/mobileSimulation",element:Object(Y.jsx)(Mc,{})}),Object(Y.jsx)(z.b,{path:"/agent",element:Object(Y.jsx)(Vc,{})})]})})]})]})})},Hn=Object(l.a)({});o.a.defaults.baseURL="http://localhost:5000",s.a.render(Object(Y.jsx)(n.a.StrictMode,{children:Object(Y.jsx)(x.a,{store:wc,children:Object(Y.jsx)(he.a,{children:Object(Y.jsx)(j.a,{theme:Hn,children:Object(Y.jsx)(a.Suspense,{fallback:"...loading",children:Object(Y.jsx)(Kn,{})})})})})}),document.getElementById("root"))}},[[798,1,2]]]);
//# sourceMappingURL=main.591398df.chunk.js.map